<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.15">
<title>Git</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:50%;border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article">
<div id="header">
<h1>Git</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="_git">Git</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_benefit">Benefit</h3>
<div class="paragraph">
<p><span class="image"><img src="../../assets/img/common/git/git-cvs.png" alt="Git as CVS"></span></p>
</div>
</div>
<div class="sect2">
<h3 id="_repositories">Repositories</h3>
<div class="paragraph">
<p><span class="image"><img src="../../assets/img/common/git/git-diagram.svg" alt="Git Diagram"></span></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../assets/img/common/git/git-basic-operations.webp" alt="Git basic operation"></span></p>
</div>
</div>
<div class="sect2">
<h3 id="_github_process">GitHub process</h3>
<div class="paragraph">
<p><span class="image"><img src="../../assets/img/common/git/git-and-github-version-control.png" alt="Git and GitHub Version Control"></span></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_именование_git_репозиториев">Именование git-репозиториев.</h2>
<div class="sectionbody">
<div class="paragraph">
<p>На Git-hosting каждому репозиторию нужно имя, поэтому, естественно, он должен соответствовать следующим критериям:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Описательный, т.е. однозначно описывать содержимое репозитория</p>
</li>
<li>
<p>Удобочитаемый</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Для многих проектов, которые используют Git, по их названию нельзя ничего сказать о них. Так может есть стандарт, которому нужно следовать? Ответ: нет. Поэтому следует придерживаться здравого смысла, а если быть точнее, название репозитория зависит от проекта и языка программирование, который используется для него.</p>
</div>
<div class="paragraph">
<p>Если проект предназначен для веб-сайтов, то можно использовать <strong>domain name</strong> как название проекта. Например:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><a href="http://domain.com" class="bare">http://domain.com</a></code></p>
<div class="literalblock">
<div class="content">
<pre>domain.com</pre>
</div>
</div>
</li>
<li>
<p><code><a href="http://sub.domain.com" class="bare">http://sub.domain.com</a></code></p>
<div class="literalblock">
<div class="content">
<pre>sub.domain.com</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Если проект разрабатывается на Java, то лучше использовать имя конечного <strong>artifact</strong> (<code>.war</code>,  <code>.jar</code>).</p>
</div>
<div class="paragraph">
<p>По умолчанию лучше использовать:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>строчные буквы</p>
</li>
<li>
<p>дефисы (как разделители)</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>the-fellowship-of-the-ring
the-two-towers
the-return-of-the-king</pre>
</div>
</div>
<div class="sect2">
<h3 id="_клонирование_git_repositories">Клонирование git-repositories</h3>
<div class="ulist">
<ul>
<li>
<p>Клонирование <strong>repository</strong> в директорию с таким же названием как Git <strong>project</strong>:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git clone git@github.com:username/project-name.git</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Клонирование <strong>repository</strong> в директорию с названием <code>project</code>:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git clone git@github.com:username/project-name.git project</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Клонирование <strong>repository</strong> в текущую директорию (она должна быть пуста):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git clone git@github.com:username/project-name.git .</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_command_for_git">Command for Git</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_precondition">Precondition</h3>
<div class="ulist">
<ul>
<li>
<p>Все команды кроме <code>git clone</code> выполняются в <code>terminal</code>/<code>cmd</code> в directory с проектом</p>
</li>
<li>
<p>Команда <code>git clone</code> выполняется в directory <code>dev</code>, которая должна быть создана в пользовательской directory</p>
</li>
<li>
<p>Команды для работы в <code>cmd</code>:</p>
<div class="ulist">
<ul>
<li>
<p><code>cd ..</code> - изменить directory на directory выше</p>
</li>
<li>
<p><code>cd dir_name</code> - изменить directory на directory с именем <code>dir_name</code> - directory в которую необходимо перейти и которая находится в текущей directory</p>
</li>
<li>
<p><code>c:</code> - перейти на диск <code>c</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_workflow">Workflow</h3>
<div class="paragraph">
<p><span class="image"><img src="../../assets/img/common/git/execute-using-git-bash.svg" alt="Git basic operation"></span></p>
</div>
</div>
<div class="sect2">
<h3 id="_qa">Q&amp;A</h3>
<div class="qlist qanda">
<ol>
<li>
<p><em>Как копировать <strong>remote repository</strong> когда его нет на компьютере?</em></p>
<p><strong>Необходимо делать единожды</strong>: <code>git clone <a href="https://github.com/GITHUB_USERNAME/GITHUB_REPOSITORY.git" class="bare">https://github.com/GITHUB_USERNAME/GITHUB_REPOSITORY.git</a></code>, где <code><a href="https://github.com/GITHUB_USERNAME/GITHUB_REPOSITORY.git" class="bare">https://github.com/GITHUB_USERNAME/GITHUB_REPOSITORY.git</a></code> - ссылка на НУЖНЫЙ репозиторий</p>
</li>
<li>
<p><em>Как сконфигурировать <code>user.name</code> в git?</em></p>
<p><strong>Необходимо делать единожды</strong>: <code>git config --global user.name 'YOUR FULLNAME'</code>, где <code>YOUR FULLNAME</code> - ваше имя и фамилия</p>
</li>
<li>
<p><em>Как сконфигурировать <code>user.email</code> в git?</em></p>
<p><strong>Необходимо делать единожды</strong>: <code>git config --global user.email 'YOUR_EMAIL'</code>, где <code>YOUR_EMAIL</code> - ваш email</p>
</li>
<li>
<p><em>Как посмотреть состояние <strong>working directory</strong>?</em></p>
<p><code>git status</code></p>
</li>
<li>
<p><em>Как посмотреть <strong>commits</strong> для <strong>local repository</strong>?</em></p>
<p><code>git log</code></p>
</li>
<li>
<p><em>Как переключать <strong>branch</strong>?</em></p>
<p><code>git checkout BRANCH_NAME</code>, где <code>BRANCH_NAME</code> - имя <code>branch</code> в который необходимо переключиться</p>
</li>
<li>
<p><em>Как добавить файлы из <strong>working directory</strong> в <strong>staging area</strong> для предстоящего <strong>commit</strong>?</em></p>
<p><code>git add .</code>, где <code>.</code> - все файлы, можно также использовать имя файла, для добавления только файла</p>
</li>
<li>
<p><em>Как добавить файлы из <code>staging area</code> в <code>local repository</code> с определенным заголовком?</em></p>
<p><code>git commit -m "YOUR_COMMIT_MEASSAGE"</code>,	где <code>YOUR_COMMIT_MEASSAGE</code> - залоговок который НУЖНО использовать</p>
</li>
<li>
<p><em>Как отправить изменения из <strong>local repository</strong> в <strong>remote repository</strong>?</em></p>
<p><code>git push GITHUB_REPOSITORY</code>, где <code>GITHUB_REPOSITORY</code> - краткое имя <strong>remote repository</strong></p>
</li>
<li>
<p><em>Как узнать о произошедших изменениях в <strong>remote repository</strong>?</em></p>
<p><code>git fetch GITHUB_REPOSITORY</code>, где <code>GITHUB_REPOSITORY</code> - краткое имя <strong>remote repository</strong></p>
</li>
<li>
<p><em>Как обновить текущий <strong>local repository</strong>, если произошли изменения в <strong>remote repository</strong>?</em></p>
<p><code>git pull GITHUB_REPOSITORY</code>, где <code>GITHUB_REPOSITORY</code> - краткое имя <strong>remote repository</strong></p>
</li>
<li>
<p><em>Как добавить дополнительный <strong>remote repository</strong>?</em></p>
<p><code>git remote add GITHUB_USERNAME <a href="https://github.com/GITHUB_USERNAME/GITHUB_REPOSITORY.git" class="bare">https://github.com/GITHUB_USERNAME/GITHUB_REPOSITORY.git</a></code>, где <code><a href="https://github.com/GITHUB_USERNAME/GITHUB_REPOSITORY.git" class="bare">https://github.com/GITHUB_USERNAME/GITHUB_REPOSITORY.git</a></code> - ссылка на <strong>remote repository</strong></p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_git_советы_новичкам">Git: советы новичкам</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Мы поговорим о системе контроля версий и логике её работы, с самых азов. С Git можно работать с помощью разных клиентов, потому в статье не пойдет речь об интерфейсе пользователя. Это может показаться непривычным, но это сделано намеренно. Вместо этого мы сфокусируемся на рабочем каталоге, коммитах, ветках, командах pull, push и прочих. Когда вы разберетесь в этих понятиях, вам останется выбрать один из Git-клиентов и освоить его интерфейс.</p>
</div>
<div class="sect2">
<h3 id="_первое_знакомство">Первое знакомство</h3>
<div class="paragraph">
<p>Представьте, что у вас есть каталог Work, в котором вы будете работать. Мы будем называть его рабочим каталогом. В нём лежит текстовый файл document.txt. Вы изо дня в день работаете с этим файлом, добавляете в него новый текст, ненужный удаляете, что-то изменяете. Внезапно вам потребовался текст, который вы пару дней назад удалили. Что делать? Если вы не используете систему контроля версий (СКВ), то этот текст не восстановить. А если вы пользуетесь СКВ – это не будет проблемой.</p>
</div>
<div class="paragraph">
<p>Как это работает? Вы всегда можете отправить свой файл в СКВ, и она его запомнит. Это называется «закоммитить файл» (команда commit). Если вы делаете такие коммиты после всех важных изменений файла, то внутри СКВ образуется множество копий разных его версий. Вы не увидите эти копии в вашем каталоге Work – там, по-прежнему будет лежать лишь один файл. Но все его копии, которые вы коммитили, можно при необходимости достать из СКВ. Там вы сможете посмотреть список всех версий вашего файла и проверить те строки, которые меняли в каждой версии. Удобно, не правда ли?</p>
</div>
<div class="paragraph">
<p>Предположим, вы меняете свой файл и даже сделали несколько его коммитов. СКВ запомнила закоммиченные версии файла (для краткости будем называть закоммиченную версию файла просто «коммитом»). Теперь выполним команду push – она отсылает ваши коммиты на сервер. В этом есть две главные цели:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Сохранность (если у вас испортится компьютер, вся история изменений файла останется на сервере);</p>
</li>
<li>
<p>Возможность нескольким людям одновременно работать над одним файлом.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Как выглядит одновременная работа? У других сотрудников на компьютере тоже есть папка Work и в ней тоже есть файл document.txt. Если вы отредактировали файл, сделали коммит и пуш, то ваши изменения попадут на сервер. Если другой человек выполнит команду pull, с сервера скачаются ваши изменения и человек увидит их в своём файле.</p>
</div>
<div class="paragraph">
<p>Так над одним и тем же файлом могут работать сразу несколько сотрудников. Они периодически забирают себе изменения других людей (pull), а также вносят свои изменения, коммитят их (commit), и отправляют на сервер (push). Оттуда их смогут забрать другие сотрудники.
Интересно, что команда pull скачивает с сервера не только последнюю версию файла, но и все предыдущие, которые кто-либо коммитил. То есть, все коммиты вашего коллеги будут храниться не только на его компьютере, но теперь и на вашем тоже. Благодаря этому можно просмотреть всю историю файла: кто, когда и какие строчки в нём менял.</p>
</div>
<div class="paragraph">
<p>Для контроля версий мы используем программу Git. Для просмотра истории изменения файла Git не обращается к серверу. Он просто показывает все версии файла, которые уже хранятся на вашем компьютере. Версии файла, которые отредактировали другие, попадают на ваш компьютер после команды pull.</p>
</div>
<div class="paragraph">
<p>Итоги:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Мы доверили Git следить за нашей рабочей папкой;</p>
</li>
<li>
<p>В папке есть текстовый файл, в котором работают наши коллеги;</p>
</li>
<li>
<p>Периодически мы забираем изменения других сотрудников в этом файле (команда pull);</p>
</li>
<li>
<p>А также мы сами меняем этот файл и делаем коммиты, позволяя Git запомнить новую версию файла. Потом мы отправляем наши коммиты на сервер (команда push). Отправлять можно как один коммит, так и сразу несколько. Но лучше пушить почаще, чтобы сотрудники видели актуальную версию файла. Другое дело, если работа не закончена — такую «рабочую» версию файла пушить, конечно, не стоит. Ведь вы создадите неудобства другим сотрудникам.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Убедитесь, что вы чётко поняли разницу между изменением файла, его коммитом и «пушем».
Поздравляем! Вы познакомились с основными возможностями системы контроля версий Git. Обратите внимание, мы специально не описываем, как вызывать команды. Потому что есть несколько Git-клиентов с разным интерфейсом. Чуть позже вы выберите один и изучите его. А пока мы просто расскажем, какие есть команды и что они делают.</p>
</div>
</div>
<div class="sect2">
<h3 id="_удалённый_репозиторий_который_никто_не_удалял">Удалённый репозиторий, который никто не удалял</h3>
<div class="paragraph">
<p>Место, куда Git сохраняет ваш файл после каждого коммита, называют локальным репозиторием. Он находится на вашем компьютере – потому и «локальный». Выше мы говорили, что команда push посылает ваши коммиты на сервер. Так вот, в Git не совсем верно говорить «сервер» – правильнее называть это «удалённым репозиторием». «Удалённый» – не потому, что его кто-то удалил, а потому, что он далеко (не у вас на компьютере). В нашем случае удалённый репозиторий находится на сайте GitHub. По своей структуре это такой же репозиторий, как у вас на компьютере. Он так же хранит коммиты. Команда push посылает коммиты с вашего локального репозитория в удалённый, а pull наоборот – забирает новые из удалённого репозитория в ваш локальный. Откуда там взялись свежие коммиты? Их туда отправили другие сотрудники.</p>
</div>
<div class="paragraph">
<p>Писать каждый раз «удалённый репозиторий» слишком долго. В Git его называют origin. Такова традиция. Дальше мы для краткости будем использовать термин origin вместо «удалённый репозиторий».</p>
</div>
</div>
<div class="sect2">
<h3 id="_углубляемся_в_детали">Углубляемся в детали</h3>
<div class="paragraph">
<p>Пора углубиться в важные технические детали. Их довольно много, но понимание логики работы Git пригодится вам в работе. Так что придется набраться терпения.</p>
</div>
<div class="paragraph">
<p>Конечно, работа в вашем рабочем каталоге обычно ведётся не только в одном файле. Git позволяет работать с каким угодно количеством файлов внутри вашего рабочего каталога, а также внутри вложенных каталогов.</p>
</div>
<div class="paragraph">
<p>Каждый коммит может запоминать изменения сразу в нескольких файлах. Хорошая практика – в один коммит включать только те изменения, которые логически связаны между собой. Не коммитьте одновременно множество разных изменений – в их истории будет трудно разобраться и вам, и другим сотрудникам.</p>
</div>
<div class="paragraph">
<p>Если вы добавили в ваш рабочий каталог новый файл и хотите, чтобы его тоже можно было коммитить (и чтобы его увидели другие сотрудники), вам нужно самому добавить файл в Git. Это делает команда add. Пока вы этого не сделали, Git не будет включать в коммиты ваш новый файл. Также можно создавать подкаталоги в рабочем каталоге. Файлы в них нужно добавить в Git тоже с помощью команды add.</p>
</div>
<div class="paragraph">
<p>Важно понять, что часть файлов в вашем рабочем каталоге может находиться под контролем Git, а часть – нет (например, логи). Следить за этим и добавлять новые файлы в Git – ваша задача.</p>
</div>
<div class="paragraph">
<p>Кстати, а откуда ваш рабочий каталог вообще возьмётся на вашем компьютере? Он там появится после того, как вы заберёте его с сервера (команда clone).</p>
</div>
<div class="paragraph">
<p>При каждом коммите нужно добавлять комментарий. В нем кратко, но информативно описывать – какие изменения вы сейчас коммитите.</p>
</div>
<div class="paragraph">
<p>Git может вам показать список файлов, которые вы изменили с момента предыдущего коммита. Вы не обязаны коммитить их все сразу. Можете выбрать группу файлов, изменения в которых логически связаны, и закоммитить их. Потом выбрать другую – сделать ещё один коммит и так далее. Важно разбивать коммиты на логические.</p>
</div>
<div class="paragraph">
<p>Перед тем, как сделать push (отправить коммиты в удалённый репозиторий origin), нужно обязательно сначала сделать pull (забрать последние изменения других людей, которые они отправили в origin). Если этого не сделать, система не даст вам выполнить push (появится сообщение об ошибке). Когда узнаете больше об особенностях работы Git, вы поймёте почему так происходит, а пока просто запомните это правило.</p>
</div>
</div>
<div class="sect2">
<h3 id="_незакоммиченные_изменения">Незакоммиченные изменения</h3>
<div class="paragraph">
<p>Если вы поменяли какие-то файлы, но ещё не закоммитили их, то говорят, что в вашем рабочем каталоге есть незакоммиченные изменения. Ряд команд Git нельзя выполнить в таком состоянии. Например, pull или checkout (переключение файлов рабочей копии на другой коммит). Какие варианты выхода из этой ситуации?</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Если эти изменения не нужны, то можно отменить незакоммиченые изменения. При этом файл вернётся в состояние последнего коммита;</p>
</li>
<li>
<p>Если изменения полезные, то можно их закоммитить;</p>
</li>
<li>
<p>Ещё можно временно спрятать эти изменения (команда stash). При этом в рабочем каталоге ваши изменения откатятся. Позже вы сможете вернуть спрятанные изменения в рабочий каталог.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_конфликты_и_их_разрешение">Конфликты и их разрешение</h3>
<div class="paragraph">
<p>Когда вы забираете изменения из origin могут возникнуть конфликты. Это происходит, если:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Вы изменили некоторые строчки в текстовом файле, закоммитили изменения, но ещё не сделали push.</p>
</li>
<li>
<p>В это же время кто-то изменил эти же строчки в файле и успел отправить изменения в origin.</p>
</li>
<li>
<p>Вы делаете pull, чтобы забрать чужие изменения. Git пытается объединить чужие изменения с вашими и обнаруживает, что изменены одни и те же строчки. Это называется конфликт (conflict).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Если это произошло, вам придётся разрешить конфликты вручную во всех файлах, где они возникли. Для каждой группы конфликтных строчек вы увидите два варианта – который написали вы и который написал кто-то другой.</p>
</div>
<div class="paragraph">
<p>Вам нужно выбрать, какой из этих вариантов оставить в результате слияния ваших изменений. Или можно вручную написать какой-то третий вариант – если нужно более тонкое объединение, чем просто копия одного из вариантов.</p>
</div>
<div class="paragraph">
<p>Дальше повторяем такие же действия для каждой группы конфликтных строк в каждом файле, в котором есть конфликты.</p>
</div>
<div class="paragraph">
<p>Если конфликт не в текстовом файле, а в бинарном (например, картинка), то там никаких строчек, конечно, нет. Тогда нужно целиком выбрать какой из файлов оставить после слияния – вашу версию файла или чужую. Если вы не уверены, как правильно – свяжитесь с тем, кто менял этот файл последним (это можно узнать в истории изменений файла) и обсудите с ним чья версия файла должна остаться. Не стоит всегда брать свои версии не разобравшись – вдруг изменения другого человека правильнее. А вы их затрёте своими изменениями, если разрешите конфликт в свою пользу. Это явно будет нехорошо.</p>
</div>
<div class="paragraph">
<p>Когда все конфликты разрешены, можно продолжить операцию, которая была прервана из-за конфликта – обычно это операции pull, merge, rebase.</p>
</div>
<div class="paragraph">
<p>Если вас напугали конфликты и вы не готовы их разрешать прямо сейчас, можно выполнить команду abort. Она откатит состояние рабочего каталога – сделает его таким, каким он был до начала операции, которая вызвала конфликт.</p>
</div>
</div>
<div class="sect2">
<h3 id="_слепки">Слепки</h3>
<div class="paragraph">
<p>Представьте текущее состояние одновременно всех файлов в вашем рабочем каталоге.</p>
</div>
<div class="paragraph">
<p>Представили? Назовём это состояние рабочего каталога «слепком». Каждый раз, когда вы делаете коммит очередных изменённых файлов, Git запоминает новый слепок (состояние всех файлов рабочего каталога). Понятие «слепка» мы будем использовать в следующей главе.</p>
</div>
<div class="paragraph">
<p>Примечания:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Слепок – это НЕ состояние только лишь изменённых файлов. Это состояние ВСЕХ файлов рабочего каталога._</p>
</li>
<li>
<p>Когда мы говорим «все файлы рабочего каталога», то, конечно, имеем в виду файлы под контролем Git. О всех остальных файлах Git ничего не знает.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_история_изменений_и_её_визуальное_представление">История изменений и её визуальное представление</h3>
<div class="paragraph">
<p>Историю изменений файлов рабочего каталога можно изобразить в таком виде:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../assets/img/common/git/git-tips-beginner/git-history.png" alt="Git History">
</div>
</div>
<div class="paragraph">
<p>Каждый кружок – это один коммит. На картинке показаны коммиты, которые сделаны один за другим. Это графическое представление истории коммитов.</p>
</div>
<div class="paragraph">
<p>Кстати, коммит можно рассматривать одним из двух способов:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Коммит, как изменение файлов с предыдущего коммита;</p>
</li>
<li>
<p>Коммит, как слепок – новое состояние всех файлов рабочего каталога, которое возникло после закоммиченных изменений.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>В каких-то случаях удобно рассматривать историю, как цепочку изменений, а в каких-то – как цепочку слепков. Так что научитесь мысленно оперировать обоими вариантами.</p>
</div>
<div class="paragraph">
<p>Вот пример, когда удобно рассматривать «слепки». Представьте, что вы хотите посмотреть, как выглядел ваш рабочий каталог три коммита назад. Это легко устроить. Берём историю (см. картинку), отсчитываем 3 кружка (коммита) назад и говорим Git: «Хочу посмотреть, как выглядел рабочий каталог вот после этого коммита». Git изменит файлы в рабочем каталоге соответственно. Другими словами, мы переключили рабочий каталог на слепок этого коммита (или просто «на этот коммит»).</p>
</div>
</div>
<div class="sect2">
<h3 id="_ветки">Ветки</h3>
<div class="paragraph">
<p>Концепция веток не так проста. Представьте, что вам нужно внести множество изменений в файлы вашего рабочего каталога, но эта работа экспериментальная – не факт, что всё получится хорошо. Вы бы не хотели, чтобы ваши изменения увидели другие сотрудники до тех пор, пока работа не будет закончена. Может просто ничего не коммитить до тех пор? Это плохой вариант. Мы уже знаем, что частые коммиты и пуши – залог сохранности вашей работы, а также возможность посмотреть историю изменений. К счастью, в Git есть механизм веток, который позволит нам коммитить и пушить, но не мешать другим сотрудникам.</p>
</div>
<div class="paragraph">
<p>Перед началом экспериментальных изменений вы должны создать ветку. У ветки есть имя. Пусть она будет называться my test work. Теперь все ваши коммиты будут идти именно туда. До этого они шли в основную ветку разработки – будем называть её master. Другими словами, раньше вы были в ветке master (хоть и не знали этого), а сейчас переключились на ветку my test work. Это выглядит так:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../assets/img/common/git/git-tips-beginner/my-test-work-branch-creating.png" alt="Создание ветки my test work">
</div>
</div>
<div class="paragraph">
<p>После коммита «3» создана ветка и ваши новые коммиты «4»и «5» пошли в неё. А ваши коллеги остались в ветке master, поэтому их новые коммиты «6», «7», «8» добавляются в ветку master. История перестала быть линейной.</p>
</div>
<div class="paragraph">
<p>На что это повлияло? Сотрудники теперь не видят изменений файлов, которые вы делаете. А вы не видите их изменений в своих рабочих файлах. Хотя историю изменений в ветке master вы все-таки посмотреть можете.</p>
</div>
<div class="paragraph">
<p>Итак, теперь вы сможете никому не мешая сделать свою экспериментальную работу. Если её результаты вас не устроит, вы просто переключитесь на ветку master (на её последний коммит – на рисунке это коммит «8»). В момент переключения файлы в вашей рабочей папке станут такими же, как у ваших коллег, а ваши изменения исчезнут. Теперь ваша рабочая копия стала слепком из коммита «8». По картинке видно, что в нём нет ваших изменений, сделанных в ветке my test work.</p>
</div>
</div>
<div class="sect2">
<h3 id="_слияние_веток">Слияние веток</h3>
<div class="paragraph">
<p>Теперь мы знаем, что каждый может создать ветки и работать независимо. Можно по очереди работать то в одной ветке, то в другой – переключаясь между ними. Ветки переключает команда <code>checkout</code>.</p>
</div>
<div class="paragraph">
<p>Ветки используются не только для временной независимой работы. Часто мы одновременную готовим несколько версий игры. Например, одна версия уже почти готова к публикации и программисты вносят в неё последние исправления. В то же время гейм-дизайнеры уже занимаются следующим обновлением. Им нельзя работать в предыдущей версии потому, что:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Их изменения не должны появиться в текущей версии;</p>
</li>
<li>
<p>Любые изменения могут что-то сломать, поэтому перед публикацией версии нужно вносить в неё как можно меньше изменений.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Словом, от веток много пользы. Но вернёмся к примеру с вашей экспериментальной работой. В предыдущей главе мы решили, что она не удалась. Вы вернулись в ветку master и потеряли изменения, сделанные в ветке my test work. А если все получилось? Вы хотите перенести свои изменения в ветку master, чтобы их увидели сотрудники, которые с ней работают. Git может помочь – выполним команду <code>merge</code> ветки my test work в ветку master:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../assets/img/common/git/git-tips-beginner/merge-my-test-work-branch-with-master.png" alt="Мерж  ветки my test work и ветки master">
</div>
</div>
<div class="paragraph">
<p>Здесь коммит «8» – это специальный коммит, который называется merge-commit. Когда мы выполняем команду <code>merge</code>, система сама создает этот коммит. В нём объединены изменения ваших коллег из коммитов «5», «6», «7», а также ваша работа из коммитов «3», «4».</p>
</div>
<div class="paragraph">
<p>Изменения из коммитов «1» и «2» объединять не нужно, ведь они были сделаны до создания ветки. А значит изначально были и в ветке master, и в ветке my test work.</p>
</div>
<div class="paragraph">
<p>Команда <code>merge</code> ничего не посылает в origin. Единственный ее результат – это merge-commit (на рисунке кружок с номером 8), который появится у вас на компьютере. Его нужно запушить, как и ваши обычные коммиты. Только после этого merge-commit отправится на origin – тогда коллеги увидят результат вашей работы, сделав <code>pull</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_несколько_мержей_из_ветки_а_в_ветку_в">Несколько мержей из ветки А в ветку В</h3>
<div class="paragraph">
<p>В предыдущей главе мы узнали, как сделать новую ветку, поработать в ней и залить изменения в главную ветку. На картинке после объединения ветки слились вместе. Означает ли это, что в ветке my test work теперь работать нельзя – она ведь уже объединилась с master? Нет, вы можете продолжать коммитить в ветку my test work и периодически мержить в главную ветку. Как это выглядит:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../assets/img/common/git/git-tips-beginner/multiply-merge-from-branch-my-test-work-to-branch-master.png" alt="Несколько мержей из ветки my test work в ветку master">
</div>
</div>
<div class="paragraph">
<p>Обратите внимание, что отрезки соединяющие ветки не горизонтальные – так показано, из какой ветки в какую был мерж. В этой ситуации было два мержа и оба из правой ветки в левую. Результатом первого объединения стал merge-commit «7», а второго – merge-commit «10». Поскольку мерж происходит из правой ветки в левую, то, например, в слепке «8» есть изменения, которые были сделаны в коммите «3». А вот в слепке «11» нет изменений, которые были сделаны в коммите «5». Убедитесь, что вы понимаете причину этого. Если нет, перечитайте главы о ветках ещё раз.</p>
</div>
</div>
<div class="sect2">
<h3 id="_мерж_между_ветками_в_обе_стороны">Мерж между ветками в обе стороны</h3>
<div class="paragraph">
<p>В предыдущем примере мы всё время мержили из ветки my test work в ветку master. Можно ли мержить в обратную сторону и есть ли в этом смысл? Можно. Есть.</p>
</div>
<div class="paragraph">
<p>Если вы долго работаете в своей ветке, рекомендуется периодически делать мерж в неё из главной ветки. Это необходимо, чтобы вы работали с актуальными версиями файлов, которые меняют другие люди. Как это выглядит:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../assets/img/common/git/git-tips-beginner/both-sides-merge-of-branches-my-test-work-and-master.png" alt="Мерж как из ветки my test work в ветку master" width="так и в обратную сторону">
</div>
</div>
<div class="paragraph">
<p>Здесь два мержа из ветки my test work в ветку master и один мерж в обратную сторону. Результатом обратного объединения стал merge-commit «8». Благодаря ему, например, слепок коммита «11» содержит изменения из коммита «7». А вот изменений из коммита «9» в слепке «11» уже нет, ведь этот коммит был сделан после мержа.</p>
</div>
</div>
<div class="sect2">
<h3 id="_коммиты_и_их_хеши">Коммиты и их хеши</h3>
<div class="paragraph">
<p>Как Git различает коммиты? На картинках мы для простоты помечали их порядковыми номерами. На самом деле каждый коммит в Git обозначается вот такой строкой:</p>
</div>
<div class="paragraph">
<p>e09844739f6f355e169f701a5b7ae02c214d5fb0</p>
</div>
<div class="paragraph">
<p>Это «названия» коммитов, которые Git автоматически даёт им при создании. Вообще, такие строки принято называть «хеш». У каждого коммита хеш разный. Если вы хотите кому-то сообщить об определённом коммите, можно отправить человеку хеш этого коммита. Зная хеш, он сможет найти этот коммит (если это ваш коммит, то, конечно, его надо сначала запушить).</p>
</div>
</div>
<div class="sect2">
<h3 id="_ветки_и_указатели">Ветки и указатели</h3>
<div class="paragraph">
<p>Сейчас мы немного углубимся в то, как Git хранит информацию о ветках. Вроде бы внутреннее устройство Git нас не должно волновать, но это позволит намного лучше понимать, что происходит при выполнении операций в Git. А вы, в свою очередь, сможете избежать ряда ошибок.</p>
</div>
<div class="paragraph">
<p>Познакомимся с концепцией «указателя». В упрощённом виде указатель состоит из своего названия и хеша. Вот пример указателя:</p>
</div>
<div class="paragraph">
<p>master – e09844739f6f355e169f701a5b7ae02c214d5fb0</p>
</div>
<div class="paragraph">
<p>Тут вы скажете: «master – знакомое имя! У нас так называлась главная рабочая ветка». И это совпадение не случайно. Git использует указатели для обозначения веток. Идея простая: если нужна новая ветка, Git создаёт новый указатель, даёт ему имя ветки и записывает в него хеш последнего (самого свежего) коммита ветки. Ветка создана!
Благодаря хешу в указателе можно сказать, что указатель ссылается или «указывает» на последний коммит ветки. Этого достаточно Git’у, чтобы выполнять все операции над ветками. То есть, никакой другой информации о том, какие коммиты принадлежат какой ветке Git не хранит. Вот так всё минималистично.</p>
</div>
<div class="paragraph">
<p>На каждую ветку есть свой указатель. Когда в ветку добавляется очередной коммит, хеш в указателе меняется, чтобы снова «указывать» на последний коммит. Это можно представить, как сдвигание указателя ветки на последний коммит с предпоследнего.</p>
</div>
<div class="paragraph">
<p>Если вы просите Git переключиться на другую ветку (команда <code>checkout</code>), ему достаточно найти указатель с именем этой ветки и взять из него хеш последнего коммита. Теперь Git знает, как должны выглядеть файлы вашего рабочего каталога (как слепок этого коммита). Git приводит файлы к такому виду – и переключение на ветку произошло.</p>
</div>
<div class="paragraph">
<p>Если вы не совсем поняли идею указателей и то, как они связаны с ветками, перечитайте главу ещё раз. В Git многое завязано на указатели, поэтому важно чётко понимать механику их работы. К счастью, она совсем не сложная, просто немного необычная. Нужно лишь привыкнуть.</p>
</div>
</div>
<div class="sect2">
<h3 id="_указатель_head">Указатель head</h3>
<div class="paragraph">
<p>Итак, мы знаем, что указатели – это такие штуки, у которых есть имя, и они ссылаются на определенный коммит (хранят его хеш). Мы знаем, что при необходимости новой ветки, Git создаёт указатель на ее последний коммит и двигает его вперед при каждом новом коммите.</p>
</div>
<div class="paragraph">
<p>Указатели используются не только для веток. Есть особый указатель head. Он указывает на коммит, который выступает состоянием вашего рабочего каталога. Поняли идею? Вот пример:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../assets/img/common/git/git-tips-beginner/example-of-head-pointer.png" alt="Пример указателя head">
</div>
</div>
<div class="paragraph">
<p>Здесь мы видим две ветки, которые представлены двумя указателями: master и test. Мы находимся в ветке master и файлы нашего рабочего каталога соответствуют слепку коммита «4». Откуда мы это знаем? Из того, что указатель head указывает на коммит «4». Точнее, он указывает на указатель master, который указывает на коммит «4». Почему бы не указывать напрямую на коммит «4»? Зачем такой финт с указанием на указатель? Так Git обозначает, что сейчас мы находимся в ветке master.</p>
</div>
<div class="paragraph">
<p>Мы можем поставить указатель head на любой коммит – для этого есть команда <code>checkout</code>. Вспомним, что на какой коммит показывает head, в таком состоянии и будут файлы в рабочем каталоге (это свойство указателя head). Поэтому переставляя указатель head на другой коммит, мы тем самым заставим Git поменять файлы нашего рабочего каталога. Это может потребоваться, например, чтобы откатиться на старую версию рабочих  файлов и посмотреть, как там всё было. А потом можно вернуться назад к последнему коммиту ветки master (<code>checkout</code> master). Если же сделаем <code>checkout</code> test (см. картинку), то head будет указывать на указатель test, который указывает на последний коммит ветки test. Файлы в рабочем каталоге поменяются на слепок «6». Так мы переключились на ветку test.</p>
</div>
<div class="paragraph">
<p>Подытожим. Перестановка особого указателя head приводит к тому, что файлы рабочего каталога меняются на слепок этого коммита. Но только тогда, когда head указывает на указатель какой-то ветки, Git считает, что мы находимся в этой ветке.</p>
</div>
<div class="paragraph">
<p>А что происходит, если head указывает на какой-то коммит напрямую (хранит его хеш)?  Это состояние называется detached head. В него можно переключиться на время, чтобы посмотреть, как выглядели файлы рабочего каталога на одном из коммитов в прошлом.</p>
</div>
<div class="paragraph">
<p>Переключение (как между ветками, так и между обычными коммитами) выполняется командой <code>checkout</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_указатель_originmaster">Указатель origin/master</h3>
<div class="paragraph">
<p>Раз удалённый репозиторий (origin) такой же, как наш, значит там тоже есть свои указатели веток? Верно. Например, есть свой указатель master, который ссылается на самый свежий коммит в этой ветке.</p>
</div>
<div class="paragraph">
<p>Интересно, что когда мы забираем свежие коммиты из origin командой <code>pull</code>, то вместе с коммитами скачиваются и копии указателей оттуда. Чтобы не путать наш указатель master и тот, который скачался с origin, второй из них отображается у нас, как origin/master. Нужно понимать, что origin/master не показывает текущее состояние указателя master в удаленном репозитории, это лишь его копия на момент выполнения команд <code>fetch</code> или <code>pull</code>.</p>
</div>
<div class="paragraph">
<p>master и origin/master могут указывать на разные коммиты. Станет понятнее, если посмотреть на картинку:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../assets/img/common/git/git-tips-beginner/pointer-head-shows-commit-5-and-pointer-origin-master-shows-commit-3.png" alt="Указатели head и origin/master отображают разные коммиты: head - коммит номер 5" width="origin/master - коммит номер 3">
</div>
</div>
<div class="paragraph">
<p>Здесь показана ситуация, когда мы забрали свежие коммиты (командой <code>pull</code>), сделали два новых коммита, но ещё не сделали <code>push</code>. В итоге наш локальный master показывает на последний  коммит. А origin/master – это последнее известное нам состояние указателя из удалённого репозитория. Поэтому он и «отстал».</p>
</div>
<div class="paragraph">
<p>После команды <code>push</code> два верхних коммита уйдут в origin и логично, что origin/master подвинется вверх и тоже будет указывать на наш последний коммит, как и master.</p>
</div>
<div class="paragraph">
<p>А может ли быть так, что origin/master будет наоборот выше, а master ниже? Может. Вот как это получается. Команда <code>pull</code> забирает свежие коммиты и сразу же помещает их в рабочий каталог. Сразу после команды <code>pull</code> оба указателя origin/master и master будут указывать на один и тот же последний коммит. Но есть ещё команда <code>fetch</code>. Она, как и <code>pull</code>, скачивает последние коммиты из origin, но не торопится обновлять рабочий каталог. Графически это выглядит так (если у вас нет незапушенных коммитов):</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../assets/img/common/git/git-tips-beginner/pointer-head-shows-commit-3-and-pointer-origin-master-shows-commit-5.png" alt="Указатели head и origin/master отображают разные коммиты: head - коммит номер 3" width="origin/master - коммит номер 5">
</div>
</div>
<div class="paragraph">
<p>До команды <code>fetch</code> указатель master показывал на коммит «3» и это был последний коммит в нашем репозитории. После <code>fetch</code> скачались два новых коммита «4» и «5». В удалённом репозитории указатель master, очевидно, указывал на коммит «5». Этот указатель скачался нам вместе с коммитами и теперь мы его видим как origin/master, указывающий на «5». Всё логично.</p>
</div>
<div class="paragraph">
<p>Зачем может потребоваться <code>fetch</code>? Например, вы не готовы менять состояние рабочего каталога, а просто хотите поглядеть, чего там накоммитили ваши коллеги? Вы делаете <code>fetch</code> и изучаете их коммиты. Когда будете готовы, делаете команду <code>merge</code>. Она применит скачанные ранее коммиты к вашему рабочему каталогу.</p>
</div>
<div class="paragraph">
<p>Поскольку в этом простом примере у вас не было незапушенных коммитов, то команде <code>merge</code> объединять ничего не придётся. Она просто подвинет указатели master и head – теперь они будут показывать на коммит «5». Как и origin/master.</p>
</div>
<div class="paragraph">
<p>Вы можете заметить, что ничего по-настоящему сложного в описанных механиках нет. Есть лишь множество деталей, в которых приходится кропотливо разбираться. Но Git – он такой.</p>
</div>
</div>
<div class="sect2">
<h3 id="_откуда_взялась_ветка">Откуда взялась ветка?</h3>
<div class="paragraph">
<p>Набираемся терпения и продолжаем рассматривать разные рабочие ситуации. Если мы сделаем несколько коммитов, а потом
выполним команду fetch (скачаем свежие коммиты, но пока не применим их в рабочий каталог), то увидим немного
сбивающую с толку картину:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../assets/img/common/git/git-tips-beginner/pic2.png" alt="Схема коммитов">
</div>
</div>
<div class="paragraph">
<p>Что это ещё за ветка получилась? Мы ведь не создавали никакой ветки. Может её создал кто-то из сотрудников?
Нет, никто её не создавал. Восстановим хронологию событий:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Сначала мы скачали свежие коммиты. Тогда последним был коммит «2».</p>
</li>
<li>
<p>Затем мы сделали коммиты «3» и «4» (но пока не пушили их).</p>
</li>
<li>
<p>В это время другие сотрудники запушили в удалённый репозиторий коммиты «5», «6» и «7».
Тогда мы ничего не знали об этом.</p>
</li>
<li>
<p>Наконец, мы сделали fetch и увидели то, что на картинке.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>В Git каждый коммит хранит ссылку на предыдущий (это и позволяет нам соединять кружки на рисунках; каждый отрезок –
это ссылка на предыдущий коммит). Когда мы сделали коммит «3», для нас последним коммитом был «2» поэтому они соединены.
Но когда на origin кто-то запушил коммит «5», там последним был тоже коммит «2» –  ведь мы свои коммиты «3» и «4» ещё
не запушили, и на origin их не было. А раз так, то для коммита «5» предыдущим тоже выступает коммит «2»,
именно эту связь Git и запомнил.</p>
</div>
<div class="paragraph">
<p>Итого, разные люди независимо друг от друга поменяли результат коммита «2» – вот и возникла ветка. Кстати, эта ветка
сейчас есть только в нашем локальном репозитории. В origin её пока нет, поскольку коммиты «3» и «4» мы до сих пор
не запушили.</p>
</div>
<div class="paragraph">
<p>Что дальше? Поскольку мы сделали fetch, а не pull, то скачанные коммиты ещё не применились к нашему рабочему каталогу.
Давайте применим их – для этого выполним merge. Результат представлен на картинке:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../assets/img/common/git/git-tips-beginner/pic3.png" alt="Схема пулов">
</div>
</div>
<div class="paragraph">
<p>Произошедшее уже знакомо нам. Образовался автоматический merge-commit «8» – master и head теперь указывают на него.
В рабочей копии появились изменения из коммитов «5», «6» и «7», которые объединились с нашими изменениями из коммитов
«3» и «4». origin/master по-прежнему указывает на «7», поскольку последние наши операции проходили на
локальном компьютере. А origin/master может сдвинуться только после общения нашего репозитория с origin.</p>
</div>
<div class="paragraph">
<p>Наконец, делаем push, и вот теперь origin/master тоже указывает на «8», ведь:
* Наш merge-commit «8» отправлен в origin.
* Там он стал последним, а значит удалённый указатель master теперь показывает на него.
* Нам скачалась информация об удалённом указателе master и мы её видим как origin/master.</p>
</div>
<div class="paragraph">
<p>Вот он и показывает на «8». Логично.</p>
</div>
<div class="paragraph">
<p>Не поддавайтесь малодушному желанию пропустить эти объяснения. В них нет ничего сложного, нужна лишь внимательность.
Обязательно пройдитесь по шагам до тех пор, пока не поймете, почему все так работает.</p>
</div>
</div>
<div class="sect2">
<h3 id="_почему_push_выдаёт_ошибку">Почему push выдаёт ошибку?</h3>
<div class="paragraph">
<p>Вы обязательно столкнетесь с тем, что Git выдаёт ошибку при команде push. В чём проблема? Почему он не принимает наши
коммиты? Push успешно завершится, только если для каждого отправляемого в origin коммита Git сможет найти
предшественника.
Пример:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../assets/img/common/git/git-tips-beginner/pic4.png" alt="Схема пушей">
</div>
</div>
<div class="paragraph">
<p>Здесь слева изображены коммиты в вашем локальном репозитории, а справа – коммиты в удалённом репозитории (origin).</p>
</div>
<div class="paragraph">
<p>Хронология этих коммитов следующая:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Сначала в origin были коммиты «1» и «2».</p>
</li>
<li>
<p>Мы сделали pull (в локальном репозитории тоже оказались лишь эти два коммита).</p>
</li>
<li>
<p>Потом мы закоммитили «3» и «4» в локальный репозиторий (но не пушили).</p>
</li>
<li>
<p>Кто-то запушил коммит «5» в origin.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>И получилось то, что сейчас на картинке. Разобрались?</p>
</div>
<div class="paragraph">
<p>Теперь наша попытка запушить «3» и «4» в origin завершится ошибкой. Git откажется пристыковать наши коммиты к
последнему коммиту «5» в origin, поскольку в local предшественником для коммита «3» является коммит «2» – а вовсе
не «5», как в origin! Для Git важно, чтобы предшественник был тот же.</p>
</div>
<div class="paragraph">
<p>Проблема решается легко. Перед тем, как сделать push, мы сделаем pull (забираем коммит «5» себе). Тут вы можете
просить: «Секунду! А почему это забрать коммит «5» Git может, а послать коммиты «3» и «4» он не может? Вроде же
ситуация симметричная в обе стороны». Правильный вопрос! А ответ на него простой. Если бы Git позволил отправить
коммиты «3» и «4» в такой ситуации, то пришлось бы делать merge на стороне origin – а кто там будет разрешать
конфликты? Некому. Поэтому Git заставляет вас сначала забрать свежие коммиты себе, сделать merge на своем компьютере
(если будут конфликты, то разрешить их), а уже готовый результат он позволит вам отправить в origin командой push.
При этом, никаких конфликтов в origin уже быть не может.</p>
</div>
<div class="paragraph">
<p>Давайте посмотрим, как будет выглядеть локальная история, после того, как вы заберете коммит «5» командой pull.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../assets/img/common/git/git-tips-beginner/pic5.png" alt="Схема локальная">
</div>
</div>
<div class="paragraph">
<p>Здесь у «3» и «5» предок «2», как и на предыдущей картинке. А новый коммит «6» – это уже давно
известный нам merge-commit.</p>
</div>
<div class="paragraph">
<p>В таком состоянии локальные коммиты уже можно запушить. Пусть тут и появилось разветвление истории, но обе ветки при
мерже объединились. А значит голова у ветки снова одна. То есть, ничего не мешает сделать push. После этого в origin
коммиты будут выглядеть такой же точно «петелькой».</p>
</div>
<div class="paragraph">
<p>Теперь, когда push выдаст вам ошибку, вы уже знаете почему и что с этим делать.</p>
</div>
</div>
<div class="sect2">
<h3 id="_rebase">Rebase</h3>
<div class="paragraph">
<p>В предыдущей главе мы сделали несколько локальных коммитов, а потом командой pull забрали коммиты других сотрудников
из удалённого репозитория. У нас в локальном репозитории образовалась как бы «ветка», которая потом обратно
объединилась с основной. После push это временное раздвоение ветки попало в origin, откуда его скачают сотрудники и
увидят в своей истории. Часто такие «петли» считаются нежелательными. Поскольку вместо красивой линейной истории
получается куча петель, которые затрудняют просмотр.</p>
</div>
<div class="paragraph">
<p>Git предлагает альтернативу. Выше мы делали fetch+merge. Первая команда забирает свежие коммиты, вторая объединяет их с
нашими незапушенными коммитами (если они есть) и создаёт merge-commit с результатом объединения.</p>
</div>
<div class="paragraph">
<p>Так вот, оказывается можно вместо fetch+merge делать fetch+rebase. Что за rebase и чем он отличается от merge?
Вспомним ещё раз, как проходил merge в предыдущем примере:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../assets/img/common/git/git-tips-beginner/pic6.png" alt="Схема фетч-мердж">
</div>
</div>
<div class="paragraph">
<p>Rebase действует по-другому – он отсоединяет вашу цепочку незапушенных коммитов от своего предка. Напомним, это были
коммиты «3» и «4». Они отсоединяются от своего предка «2» и rebase ставит их «сверху» на только что скачанный коммит
«5». То есть, «3» и «4» будут прицеплены сверху к «5» (а мерж-коммит «6» вообще не появится). Итог будет таким:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../assets/img/common/git/git-tips-beginner/pic7.png" alt="Схема фетч-ребэйз">
</div>
</div>
<div class="paragraph">
<p>Никакой петли больше нет, история линейная и красивая! Да здравствует rebase! Теперь мы знаем, что при скачивании
коммитов из origin лучше объединять их со своими локальными коммитами при помощи rebase, а не merge.</p>
</div>
<div class="paragraph">
<p>Хорошо, а если речь не о паре-тройке ваших коммитов, а о большой ветке с разработкой новой фичи. Когда настанет время
влить эту фичу в главную ветку, как это лучше сделать – через rebase или merge? У обоих способов есть преимущества:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>rebase позволит сохранить историю простой и линейной – он добавит цепочку ваших коммитов из ветки в конец основной
ветки.</p>
</li>
<li>
<p>merge сделает петлю, но зато в истории более наглядно будет прослеживаться история разработки вашей фичи.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Вопрос предпочтения rebase или merge в таких случаях обсудите с ведущим программистом вашего проекта.</p>
</div>
</div>
<div class="sect2">
<h3 id="_эпилог">Эпилог</h3>
<div class="paragraph">
<p>Мы с вами разобрались в множестве команд Git для работы с репозиториями:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>pull</p>
</li>
<li>
<p>commit</p>
</li>
<li>
<p>push</p>
</li>
<li>
<p>add</p>
</li>
<li>
<p>clone</p>
</li>
<li>
<p>checkout</p>
</li>
<li>
<p>stash</p>
</li>
<li>
<p>merge</p>
</li>
<li>
<p>rebase</p>
</li>
<li>
<p>abort</p>
</li>
<li>
<p>fetch</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Это не все команды, которые бывают нужны в работе – только самые частые. Будьте готовы, что потребуется освоить и
другие. Работать с Git можно при помощи разных git-клиентов. Мы в основном используем эти три:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Консольный</p>
</li>
<li>
<p>SourceTree</p>
</li>
<li>
<p>TortoiseGit</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Выбор клиента – дело вкуса.</p>
</div>
<div class="paragraph">
<p>Консольный – работает на всех платформах, но у него крайне аскетичный интерфейс. Если вы не привыкли работать в
консоли, то скорее всего вам будет в нем некомфортно.</p>
</div>
<div class="paragraph">
<p>SourceTree — графический клиент с довольно простым интерфейсом. Есть версии для наших основных платформ: Win и Mac.
Однако, сотрудники часто жалуются на его медленную работу и глюки.</p>
</div>
<div class="paragraph">
<p>TortoiseGit — еще один графический клиент. Есть версия для Win, для Mac`а нет. Интерфейс несколько непривычный, но
многим нравится. Жалоб на глюки и тормоза существенно меньше, чем в случае с SourceTree.</p>
</div>
<div class="paragraph">
<p>Интересно, что и SourceTree, и TortoiseGit не работают с репозиторием Git напрямую. Внутри себя они используют
консольный Git. Когда вы нажимаете на красивые кнопки, вызываются консольные команды Git с разными хитрыми параметрами,
а результат вызова снова показывают в красивом виде. Использование всеми клиентами консольного Git означает, что все
они работают со стандартной файловой структурой Git-хранилища на вашем жёстком диске. А значит можно использовать
смешанный стиль работы: одни операции выполнять в одном клиенте, а другие – в другом.</p>
</div>
<div class="paragraph">
<p>Итак, вы узнали основные концепции, используемые системой контроля версий Git. А также, как работают основные команды.
Наверняка при чтении статьи вам не хватало описания «какие кнопки нажимать». Однако, в каждом Git-клиенте это выглядит
по-разному, поэтому нам пришлось отделить описание логики от описания интерфейса. Настало время выбрать один из клиентов
и изучить его интерфейс пользователя.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_git_for_beginner">Git for beginner</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_что_такое_системы_контроля_версий">Что такое системы контроля версий?</h3>
<div class="paragraph">
<p><strong>Система контроля версий</strong> (<strong>Version Control System</strong>, <strong>VCS</strong>) представляет собой программное обеспечение, которое позволяет отслеживать изменения в документах, при необходимости производить их откат, определять, кто и когда внес исправления и т.п.</p>
</div>
<div class="sect3">
<h4 id="_что_такое_система_контроля_версий">Что такое система контроля версий?</h4>
<div class="paragraph">
<p>Наверное, всем знакома ситуация, когда при работе над проектом, возникает необходимость внести изменения, но при этом нужно сохранить работоспособный вариант, в таком случае, как правило, создается новая папка, название которой скорее всего будет “Новая папка” с дополнением в виде даты или небольшой пометки, в нее копируется рабочая версия проекта и уже с ним производится работа. Со временем количество таких папок может значительно возрасти, что создает трудности в вопросе отката на предыдущие версии, отслеживании изменений и т.п. Эта ситуация значительно ухудшается, когда над проектом работает несколько человек.</p>
</div>
<div class="paragraph">
<p>Для решения таких проблем как раз и используется система контроля версий, она позволяет комфортно работать над проектом как индивидуально, так в коллективе. <strong>VCS</strong> отслеживает изменения в файлах, предоставляет возможности для создания новых и слияние существующих ветвей проекта, производит контроль доступа пользователей к проекту, позволяет откатывать исправления и определять кто, когда и какие изменения вносил в проект. Основным понятием <strong>VCS</strong> является <strong>репозиторий</strong> (<strong>repository</strong>) – специальное хранилище файлов и папок проекта, изменения в которых отслеживаются. В распоряжении разработчика имеется так называемая <strong>рабочая копия</strong> (<strong>working copy</strong>) проекта, с которой он непосредственно работает. Рабочую копию необходимо периодически синхронизировать с репозиторием, эта операция предполагает отправку в него изменений, которые пользователь внес в свою рабочую копию (такая операция называется <strong>commit</strong>) и актуализацию рабочей копии, в процессе которой к пользователю загружается последняя версия из репозитория (этот процесс носит название <strong>update</strong>).</p>
</div>
</div>
<div class="sect3">
<h4 id="_централизованные_и_распределенные_системы_контроля_версий">Централизованные и распределенные системы контроля версий</h4>
<div class="paragraph">
<p>Системы контроля версий можно разделить на две группы: распределенные и централизованные.</p>
</div>
<div class="sect4">
<h5 id="_централизованные_системы_контроля_версий">Централизованные системы контроля версий</h5>
<div class="paragraph">
<p>Централизованные системы контроля версий представляют собой приложения типа клиент-сервер, когда репозиторий проекта существует в единственном экземпляре и хранится на сервере. Доступ к нему осуществлялся через специальное клиентское приложение. В качестве примеров таких программных продуктов можно привести <strong>CVS</strong>, <strong>Subversion</strong>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../assets/img/common/git/git-for-beginner/what-is-vcs-part1-1.png" alt="Схема системы контроля версий с центральным репозиторием">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../assets/img/common/git/git-for-beginner/what-is-vcs-part1-2.jpg" alt="Система контроля версий CVS">
</div>
</div>
<div class="paragraph">
<p><strong>CVS</strong> (<strong>Concurrent Versions System</strong>, <strong>Система одновременных версий</strong>) одна из первых систем получивших широкое распространение среди разработчиков, она возникла в конце 80-х годов прошлого века. В настоящее время этот продукт не развивается, это в первую очередь связано с рядом ключевых недостатков, таких как невозможность переименования файлов, неэффективное их хранение, практически полное отсутствие контроля целостности.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../assets/img/common/git/git-for-beginner/what-is-vcs-part1-3.jpg" alt="Система контроля версий Subversion">
</div>
</div>
<div class="paragraph">
<p><strong>Subversion</strong> (<strong>SVN</strong>) – система контроля версий, созданная на замену <strong>CVS</strong>. <strong>SVN</strong> была разработана в 2004 году и до сих пор используется. Несмотря на многие преимущества по сравнению с <strong>CVS</strong> у <strong>SVN</strong> все-таки есть недостатки, такие как проблемы с переименованием, невозможность удаления данных из хранилища, проблемы в операции слияния ветвей и т.д. В целом <strong>SVN</strong> был (и остается) значительном шагом вперед по сравнению с <strong>CVS</strong>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_распределенные_системы_контроля_версий">Распределенные системы контроля версий</h5>
<div class="paragraph">
<p><strong>Распределенные системы контроля версий</strong> (<strong>Distributed Version Control System</strong>, <strong>DVCS</strong>) позволяют хранить репозиторий (его копию) у каждого разработчика, работающего с данной системой. При этом можно выделить центральный репозиторий (условно), в который будут отправляться изменения из локальных и, с ним же эти локальные репозитории будут синхронизироваться. При работе с такой системой, пользователи периодически синхронизируют свои локальные репозитории с центральным и работают непосредственно со своей локальной копией. После внесения достаточного количества изменений в локальную копию они (изменения) отправляются на сервер. При этом сервер, чаще всего, выбирается условно, т.к. в большинстве <strong>DVCS</strong> нет такого понятия как “выделенный сервер с центральным репозиторием”.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../assets/img/common/git/git-for-beginner/what-is-vcs-part1-4.png" alt="Схема распределенной системы контроля версий">
</div>
</div>
<div class="paragraph">
<p>Большое преимущество такого подхода заключается в автономии разработчика при работе над проектом, гибкости общей системы и повышение надежности, благодаря тому, что каждый разработчик имеет локальную копию центрального репозитория. Две наиболее известные <strong>DVCS</strong> – это <strong>Git</strong> и <strong>Mercurial</strong>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../assets/img/common/git/git-for-beginner/what-is-vcs-part1-5.jpg" alt="Система контроля версий Mercurial">
</div>
</div>
<div class="paragraph">
<p>Начнем с <strong>Mercurial</strong>, эта система представляет собой свободную <strong>DVCS</strong>, которая построена таким образом, что в ней отсутствует понятие центрального репозитория, для работы с этой <strong>VCS</strong> используется (как правило) консольная утилита <strong>hg</strong>. <strong>Mercurial</strong> обладает всеми возможностями системы контроля версий, такими как ветвление, слияние, синхронизация с другими репозиториями. Данный проект используют и поддерживают большое количество крупных разработчиков, среди них <strong>Mozilla</strong>, <strong>OpenOffice</strong>, <strong>OpenJDK</strong> и многие другие. Сам продукт написан на языке Python и доступен на большинстве современных операционных систем (<strong>Linux</strong>, <strong>Windows</strong>, <strong>Mac OS</strong>), также существует значительное количество утилит с графическим интерфейсом для работы с Mercurial. Основным конкурентом <strong>Mercurial</strong> на рынке распределенных систем контроля версий является <strong>Git</strong>, который, на сегодняшний день, выиграл гонку за лидерство.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../assets/img/common/git/git-for-beginner/what-is-vcs-part1-6.jpg" alt="Система контроля версий Git">
</div>
</div>
<div class="paragraph">
<p><strong>Git</strong> – распределенная система контроля версий, разработанная <strong>Линусом Торвальдсем</strong> для работы над ядром операционной системы <strong>Linux</strong>. Среди крупных проектов, в рамках которых используется <strong>git</strong>, можно выделить ядро <strong>Linux</strong>, <strong>Qt</strong>, <strong>Android</strong>. <strong>Git</strong> свободен и распространяется под лицензией <strong>GNU GPL 2</strong> и, также как <strong>Mercurial</strong>, доступен практически на всех операционных системах. По своим базовым возможностям <strong>git</strong> схож с <strong>Mercurial</strong> (и другими <strong>DVCS</strong>), но благодаря ряду достоинств (высокая скорость работы, возможность интеграции с другими <strong>VCS</strong>, удобный интерфейс) и очень активному сообществу, сформировавшемуся вокруг этой системы, <strong>git</strong> вышел в лидеры рынка распределенных систем контроля версий. Необходимо отметить, что несмотря на большую популярность таких систем как <strong>git</strong>, крупные корпорации, подобные Google, используют свои <strong>VCS</strong>.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_установка_git">Установка Git</h3>
<div class="paragraph">
<p>Для того, чтобы начать работать с системой контроля версий <strong>Git</strong> ее необходимо предварительно установить. Рассмотрим варианты установки этой <strong>VCS</strong> под <strong>Linux</strong> и <strong>MS Windows</strong>.</p>
</div>
<div class="sect3">
<h4 id="_установка_git_под_linux">Установка Git под Linux</h4>
<div class="paragraph">
<p>Для установки <strong>Git</strong> под <strong>Linux</strong>, необходимо зайти на сайт <a href="https://git-scm.com/">Git</a> и перейти в раздел <em>Downloads</em>. В зависимости от используемой вами версии операционной системы <em>Linux</em> необходимо выбрать тот или иной способ установки <strong>Git</strong>.</p>
</div>
<div class="sect4">
<h5 id="_debianubuntu">Debian/Ubuntu</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">apt-get install git</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_fedora">Fedora</h5>
<div class="sect5">
<h6 id="_fedora_21">Fedora 21</h6>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">yum install git</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_fedora_22">Fedora 22</h6>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">dnf install git</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_gentoo">Gentoo</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">emerge --ask --verbose dev-vcs/git</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_arch_linux">Arch Linux</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">pacman -S git</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_opensuse">openSUSE</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">zypper install git</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_mageia">Mageia</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">urpmi git</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_freebsd">FreeBSD</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">pkg install git</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_solaris_91011_opencsw">Solaris 9/10/11 (OpenCSW)</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">pkgutil -i git</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_solaris_11_express">Solaris 11 Express</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">pkg install developer/versioning/git</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_openbsd">OpenBSD</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">pkg_add git</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_alpine">Alpine</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">apk add git</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_установка_git_под_windows">Установка Git под Windows</h4>
<div class="paragraph">
<p>Для установки <strong>Git</strong> под <strong>Windows</strong> необходимо предварительно скачать дистрибутив. Для этого перейдите на страницу <a href="https://git-scm.com/" class="bare">https://git-scm.com/</a></p>
</div>
<div class="paragraph">
<p>Если вы зашли из под операционной системы (ОС) <strong>Windows</strong>, главная страница сайта будет выглядеть примерно так, как показано на рисунке ниже. Для других ОС отличие будет заключаться в том, что изменится область для скачивания дистрибутива (см. правый нижний угол).</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../../assets/img/common/git/git-for-beginner/install-git-first-page.jpg" alt="first page"></span></p>
</div>
<div class="paragraph">
<p>Для того чтобы скачать <strong>Git</strong>, нужно нажать на кнопку <em>Downloads for Windows</em>, расположенную в правой части окна.</p>
</div>
<div class="paragraph">
<p>Процесс дальнейшей установки <strong>Git</strong> выглядит так.</p>
</div>
<div class="sect4">
<h5 id="_запустить_установочный_файл">Запустить установочный файл</h5>

</div>
<div class="sect4">
<h5 id="_ознакомиться_если_есть_желание_с_лицензионным_соглашением_и_нажать_на_кнопку_next">Ознакомиться, если есть желание, с лицензионным соглашением и нажать на кнопку Next</h5>
<div class="imageblock">
<div class="content">
<img src="../../../assets/img/common/git/git-for-beginner/install-git-license-terms.jpg" alt="license terms">
</div>
</div>
</div>
<div class="sect4">
<h5 id="_выбрать_компоненты_которые_следует_установить">Выбрать компоненты, которые следует установить</h5>
<div class="paragraph">
<p><span class="image"><img src="../../../assets/img/common/git/git-for-beginner/install-git-selection-of-components.jpg" alt="selection of components"></span></p>
</div>
</div>
<div class="sect4">
<h5 id="_указать_способ_использования_git">Указать способ использования Git</h5>
<div class="paragraph">
<p><span class="image"><img src="../../../assets/img/common/git/git-for-beginner/install-git-way-to-use.jpg" alt="way to use"></span></p>
</div>
<div class="paragraph">
<p>В этом окне доступны три возможных варианта:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong><em>Use Git from Git Bash only</em></strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Переменная <em>PATH</em> не модифицируется и работа с <em>Git</em> возможна только через специализированную оболочку, которая называется <em>Git Bash</em>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong><em>Use Git from the Windows Command Prompt</em></strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>В этом случае происходит минимальная модификация переменной окружения <em>PATH</em>, которая позволит работать с <em>Git</em> через командную стоку <em>Windows</em>. Работа через <em>Git Bash</em> также возможна.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong><em>Use Git and optional Unix tools from the Windows Command Prompt</em></strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>В переменную <em>PATH</em> вносится значительное количество модификаций, которые позволят, в рамках командной строки <em>Windows</em>, использовать как <em>Git</em> так и утилиты <em>Unix</em>, которые поставляются вместе с дистрибутивом <em>Git</em>.</p>
</div>
<div class="paragraph">
<p>Наша рекомендация: опция <em>Use Git from the Windows Command Prompt</em>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_настройка_правил_окончания_строки">Настройка правил окончания строки</h5>
<div class="imageblock">
<div class="content">
<img src="../../../assets/img/common/git/git-for-beginner/install-git-setting-line-ending-rules.jpg" alt="setting line ending rules">
</div>
</div>
<div class="paragraph">
<p>Существует два варианта формирования конца строки в текстовых файлах – это <em>Windows стиль</em> и <em>Unix</em> стиль. Данное окно позволяет выбрать одну из опций, определяющих правило формирования окончания строки:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong><em>Checkout Windows-style, commit Unix-style line endings</em></strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>Checkout</em> (операция извлечения документа из хранилища и создания рабочей копии) производится в <em>Windows</em> стиле, а <em>commit</em> (операция отправки изменений в репозиторий) в <em>Unix</em> стиле.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong><em>Checkout as-is, commit Unix-style line endigns</em></strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>Checkout</em> производится в том формате, в котором данные хранятся в репозитории, а <em>commit</em> осуществляется в <em>Unix</em> стиле.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong><em>Checkout as-is, commit as-is</em></strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>Checkout</em> и <em>commit</em> производятся без дополительных преобразований.</p>
</div>
<div class="paragraph">
<p>Наша рекомендация: опция <em>Checkout Windows-style, commit Unix-style line endings</em>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_выбор_эмулятора_терминала_который_будет_использован_с_git_bash">Выбор эмулятора терминала, который будет использован с Git Bash</h5>
<div class="imageblock">
<div class="content">
<img src="../../../assets/img/common/git/git-for-beginner/install-git-choosing-a-terminal-emulator.jpg" alt="choosing a terminal emulator">
</div>
</div>
<div class="paragraph">
<p>Возможен выбор из двух вариантов:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong><em>Use MinTTY (the defaul terminal of MSYS2)</em></strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>Git Bash</em> будет использовать в качестве эмулятора терминала <em>MinTTY</em>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong><em>Use Windows’ default console window</em></strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>Git</em> будет использовать Windows консоль (“<em>cmd.exe</em>”).</p>
</div>
<div class="paragraph">
<p>Наша рекомендация: опция <em>Use MinTTY (the defaul terminal of MSYS2)</em>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_настройка_дополнительных_параметров">Настройка дополнительных параметров</h5>
<div class="imageblock">
<div class="content">
<img src="../../../assets/img/common/git/git-for-beginner/install-git-setting-additional-parameters.jpg" alt="setting additional parameters">
</div>
</div>
<div class="paragraph">
<p>Доступны следующие параметры:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong><em>Enable file system caching</em></strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Включение операции кэширования при работе с файлами. Эта опция позволит значительно повысить производительность.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong><em>Enable Git Credential Manager</em></strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Предоставляет возможность работы с защищенным хранилищем.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong><em>Enable symbolic links</em></strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Активирует работу с символьными ссылками.</p>
</div>
<div class="paragraph">
<p>Наша рекомендация: опции <em>Enable file system caching</em> и <em>Enable Git Credential Manager</em>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_завершение_установки">Завершение установки</h5>
<div class="paragraph">
<p>После нажатия на кнопку <em>Install</em> будет произведена установка <em>Git</em> на <em>Windows</em>, по окончании установки пользователь получит соответствующее сообщение.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../assets/img/common/git/git-for-beginner/install-git-completing-the-installation.jpg" alt="completing the installation">
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_настройка_git">Настройка Git</h3>
<div class="paragraph">
<p>Настройка системы <strong>Git</strong> предполагает, в первую очередь, указание имени пользователя и e-mail, которые используются для подписи коммитов и отправки изменений в удаленный репозиторий.</p>
</div>
<div class="paragraph">
<p>В <strong>Git</strong> существует три места, где хранятся настройки:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>на уровне системы;</p>
</li>
<li>
<p>на уровне пользователя;</p>
</li>
<li>
<p>на уровне проекта (репозитория).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Для того, чтобы сконфигурировать <strong>Git</strong>, на том или ином уровне, вы можете изменить непосредственно конфигурационные файлы, но для этого нужно знать их формат, либо воспользоваться специальными командами, которые предоставляет <strong>Git</strong>. Мы рекомендуем использовать команды.</p>
</div>
<div class="sect3">
<h4 id="_расположение_конфигурационных_файлов_git">Расположение конфигурационных файлов Git</h4>
<div class="sect4">
<h5 id="_windows">Windows</h5>
<div class="ulist">
<ul>
<li>
<p>Уровень системы: <code>\Program Files\Git\mingw64\etc\gitconfig</code></p>
<div class="ulist">
<ul>
<li>
<p>Имейте в виду, что для его изменения вам могут понадобиться права администратора!</p>
</li>
</ul>
</div>
</li>
<li>
<p>Уровень пользователя: <code>%HOMEPATH%\.gitconfig</code></p>
</li>
<li>
<p>Уровень репозитория: <code>папка_с_проектом\.git\config</code></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_linux">Linux</h5>
<div class="ulist">
<ul>
<li>
<p>Уровень системы: <code>/etc/gitconfig</code></p>
</li>
<li>
<p>Уровень пользователя: <code>~/.gitconfig</code></p>
</li>
<li>
<p>Уровень репозитория: <code>папка_с_проектом/.git/config</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_конфигурирование_git_с_помощью_утилиты_командной_строки">Конфигурирование Git с помощью утилиты командной строки</h4>
<div class="paragraph">
<p>Как уже было сказано выше, конфигурирование <strong>Git</strong> с помощью утилиты командной строки – это наиболее удобный и безопасный способ. Независимо от того, на каком уровне вы хотите менять настройки, команда будет начинаться так:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git config</code></pre>
</div>
</div>
<div class="paragraph">
<p>Для уровня системы, мы должны написать:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git config --system</code></pre>
</div>
</div>
<div class="paragraph">
<p>уровня пользователя:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git config --global</code></pre>
</div>
</div>
<div class="paragraph">
<p>уровня приложения:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git config</code></pre>
</div>
</div>
<div class="paragraph">
<p>После этой команды указывается параметр и его значение.</p>
</div>
<div class="paragraph">
<p>Например, зададим имя и e-mail разработчика для уровня пользователя.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git config --global user.name "User"</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git config --global user.email "user@company.com"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Для просмотра введенных изменений воспользуйтесь командой:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git config --list</code></pre>
</div>
</div>
<div class="paragraph">
<p>Дополнительно вы можете указать текстовый редактор, который будет запускать <strong>Git</strong>, если ему потребуется получить от вас какие-то данные, для этого модифицируйте параметр <code>core.editor</code>:</p>
</div>
<div class="paragraph">
<p>вариант для <strong>Linux</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git config --global core.editor "nano"</code></pre>
</div>
</div>
<div class="paragraph">
<p>вариант для <strong>Windows</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git config --global core.editor "notepad.exe"</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_архитектура_git">Архитектура Git</h3>
<div class="paragraph">
<p>Для того чтобы двигаться дальше – создавать репозитории, отправлять коммиты, делать новые бранчи (ветви) и т.п. необходимо предварительно ознакомиться с архитектурой <strong>git</strong>.
Архитектуру мы рассмотрим на уровне, которого будет достаточно, чтобы понимать суть действий, которые мы будем совершать в дальнейшем.</p>
</div>
<div class="sect3">
<h4 id="_архитектура_трех_деревьев">Архитектура трех деревьев</h4>
<div class="paragraph">
<p>Система контроля версий <strong>git</strong> имеет архитектуру трех деревьев. Перед тем как перейти к ее описанию, для начала, рассмотрим архитектуру двух деревьев. Схематично она выглядит так, как представлено на рисунке ниже.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../assets/img/common/git/git-for-beginner/two-tree-architecture.png" alt="Схема архитектуры двух деревьев">
</div>
</div>
<div class="paragraph">
<p>Для начал введем используемую в системах контроля версий терминологию. Набор
файлов, с которым мы работаем в данный момент, называется <strong>рабочая копия</strong> (<strong>working
copy</strong>). После того, как решено, что все нужные изменения на данный момент внесены, и
об этом можно сообщить системе контроля версий, разработчик производит отправку
изменений в <strong>репозиторий</strong> (<strong>repository</strong>). <strong>Репозиторий</strong> – это хранилище для нашего
проекта, которое обслуживает система контроля версий. Сама операция отправки
изменений называется <strong>commit</strong>, на русском языке ее так и называют – <strong>коммит</strong>. Если нам
необходимо взять данные из репозитория, то мы осуществляем операцию <strong>checkout</strong>,
которая на русском произносится как <strong>чекаут</strong>. Для названий операций <strong>commit</strong> и <strong>checkout</strong>
не используют прямой перевод, предпочитают транскрипцию. В дальнейшем мы будем
пользоваться как английским, так и русским эквивалентом терминов.</p>
</div>
<div class="paragraph">
<p>Для архитектуры двух деревьев регламент работы с репозиторием может выглядеть
следующим образом:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Перед началом работы разработчик делает <strong>checkout</strong>, для того чтобы быть
уверенным, что он будет работать с актуальной рабочей копией.</p>
</li>
<li>
<p>Разработчик вносит необходимые изменения в исходный код.</p>
</li>
<li>
<p>Разработчик отправляет изменения в репозиторий (коммитит их).</p>
</li>
<li>
<p>Повторить необходимое количество раз пункты 2 и 3.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Система контроля версий <strong>git</strong> использует архитектуру трех деревьев. Схематично она
выглядит так как показано на рисунке ниже.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../assets/img/common/git/git-for-beginner/three-tree-architecture.png" alt="Схема архитектуры трёх деревьев">
</div>
</div>
<div class="paragraph">
<p>Суть ее заключается в том, что дополнительно добавляется ещё одно место, которое
можно назвать <strong>кэшем</strong> или <strong>stage</strong> в английской терминологии. Рабочая копия и
репозиторий идейно не отличается от их аналогов в архитектуре двух деревьев.
Наличие дополнительного элемента меняет регламент работы, которой в этом случае
выглядит так:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Перед началом работы разработчик делает <em>checkout</em>, для того чтобы быть
уверенным, что он будет работать с актуальной рабочей копией.</p>
</li>
<li>
<p>Разработчик вносит необходимые изменения в исходный код.</p>
</li>
<li>
<p>Разработчик отправляет необходимый набор файлов, изменения в которые
внесены, в <em>stage</em>, для того, чтобы потом построить из них коммит. До того, как
изменения будут отправлены в репозиторий, разработчик может добавлять и
удалять файлы из <em>stage</em>. Набор файлов в <em>stage</em>, как правило, идеологически
связан между собой.</p>
</li>
<li>
<p>Разработчик отправляет изменения в репозиторий (коммитит их).</p>
</li>
<li>
<p>Повторить необходимое количество раз пункты 2 – 4.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Наличие <strong>stage</strong> добавляет гибкости в процесс разработки, вы можете внести изменения
в довольно большое количество файлов, но отправить их в репозиторий в разных
коммитах со своими специфическими комментариями.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_создание_репозитория_и_первый_коммит">Создание репозитория и первый коммит</h3>
<div class="sect3">
<h4 id="_создание_репозитория">Создание репозитория</h4>
<div class="paragraph">
<p>Для того чтобы создать репозиторий, для начала, создайте папку, в которой он будет располагаться. В нашем случае это будет каталог с названием <em>repo</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">mkdir repo</code></pre>
</div>
</div>
<div class="paragraph">
<p>Теперь перейдем в этот каталог.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">cd repo</code></pre>
</div>
</div>
<div class="paragraph">
<p>Создадим в нем пустой <em>git</em> репозиторий.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git init</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_создание_первого_коммита">Создание первого коммита</h4>
<div class="paragraph">
<p>Если мы посмотрим на список коммитов, которые были отправлены в репозиторий, то увидим, что он пустой – это правильно, т.к. мы пока только создали репозиторий и ничего ещё туда не отправляли.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git log</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>fatal: your current branch 'master' does not have any commits yet</pre>
</div>
</div>
<div class="paragraph">
<p>Для просмотра состояния рабочего каталога воспользуемся командой <em>git status</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git status</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>On branch master

Initial commit

nothing to commit (create/copy files and use "git add" to track)</pre>
</div>
</div>
<div class="paragraph">
<p>Создадим в нашем каталоге пустой файл.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">touch README.md</code></pre>
</div>
</div>
<div class="paragraph">
<p>Теперь, если мы выполним команду <em>git status</em>, то увидим, что в нашем каталоге появился один не отслеживаемый файл: <em>README.md</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git status</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>On branch master

Initial commit

Untracked files:
  (use "git add &lt;file&gt;..." to include in what will be committed)

        README.md

nothing added to commit but untracked files present (use "git add" to track)</pre>
</div>
</div>
<div class="paragraph">
<p>Добавим, созданный файл в <strong>stage</strong>. <strong>Stage</strong> (или <strong>cache</strong>) – это хранилище для файлов с изменениями, информация о которых попадет в единый коммит. <strong>Stage</strong> является элементом архитектуры трех деревьев, на базе которой построен <strong>git</strong>. Для добавления файла <code>README.md</code> в <strong>stage</strong> необходимо воспользоваться командой <code>git add</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git add README.md</code></pre>
</div>
</div>
<div class="paragraph">
<p>Если изменение было произведено в нескольких файлах, и мы хотим их все отправить в <strong>stage</strong>, то вместо имени файла поставьте точку.</p>
</div>
<div class="paragraph">
<p>Выполним <code>git status</code> для того, чтобы посмотреть на то, что сейчас происходит в нашем каталоге.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git status</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>On branch master

Initial commit

Changes to be committed:
  (use "git rm --cached &lt;file&gt;..." to unstage)

        new file:   README.md</pre>
</div>
</div>
<div class="paragraph">
<p>Как видно, в <strong>stage</strong> был добавлен один файл с именем <code>README.md</code> и теперь представленный набор изменений готов к отправке в репозиторий – т.е. к коммиту. Сделаем это.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git commit -m "[create repository]"</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>[master (root-commit) 500067c] [create repository]
1 file changed, 0 insertions(+), 0 deletions(-)
create mode 100644 README.md</pre>
</div>
</div>
<div class="paragraph">
<p>Проверим статус каталога.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git status</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>On branch master

nothing to commit, working tree clean</pre>
</div>
</div>
<div class="paragraph">
<p>Как видно с момента последнего коммита никаких изменений в рабочем каталоге не производилось.</p>
</div>
<div class="paragraph">
<p>Теперь взглянем на список коммитов.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git log</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>commit 500067cc0b80643d38e2a24e9e0699031ada6be3
Author: Writer &lt;writer@someserver.com&gt;
Date:   Mon Feb 12 22:51:14 2018 +0500

    [create repository]</pre>
</div>
</div>
<div class="paragraph">
<p>Из приведенной информации видно, что был отправлен один коммит, который имеет <strong>ID</strong>: <code>500067cc0b80643d38e2a24e9e0699031ada6be3</code>. Автор данного коммита <code>Writer</code>, он (коммит) был создан <code>Mon Feb 12 22:51:14 2018 +0500</code>, с сообщением: <code>[create repository]</code>. Это довольно подробная информация, когда коммитов станет много, такой формат вывода будет не очень удобным, сокращенный вариант выглядит так.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git log --oneline</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>500067c [create repository]</pre>
</div>
</div>
<div class="paragraph">
<p>Подведем небольшое резюме вышесказанному.</p>
</div>
<div class="paragraph">
<p>Создание пустого репозитория.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git init</code></pre>
</div>
</div>
<div class="paragraph">
<p>Добавление файлов в <strong>stage</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git add filename</code></pre>
</div>
</div>
<div class="paragraph">
<p>Создание коммита.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git commit -m “message”</code></pre>
</div>
</div>
<div class="paragraph">
<p>Просмотр статуса каталога.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git status</code></pre>
</div>
</div>
<div class="paragraph">
<p>Просмотр коммитов в репозитории.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git log</code></pre>
</div>
</div>
<div class="paragraph">
<p>Просмотр коммитов в репозитории с сокращенным выводом информации.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git log --oneline</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_просмотр_информации_по_коммитам">Просмотр информации по коммитам</h3>
<div class="paragraph">
<p>Рассмотрим инструмент системы контроля версий <strong>git</strong>, который позволяет делать выборку и представлять пользователю коммиты, отправленные в репозиторий, в соответствии с заданными параметрами.</p>
</div>
<div class="paragraph">
<p>В прошлом уроке мы разобрались с тем, как фиксировать изменения в рабочей директории и отправлять коммиты в репозиторий. Рабочий процесс с использованием <strong>git</strong>, в упрощенном виде, выглядит следующим образом (пока не рассматриваем работу с удаленным репозиторием):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Внесение изменений в рабочую директорию.</p>
</li>
<li>
<p>Отправка изменений в <strong>stage</strong>.</p>
</li>
<li>
<p>Формирование и отправка коммита на базе того, что лежит в <strong>stage</strong>, в репозиторий.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>В процессе работы, в вашем репозитории накопится больше количество коммитов и довольно часто будет возникать необходимость их просматривать. <strong>Git</strong> предоставляет удобный способ просмотра информации по коммитам. Для демонстрации возможностей <strong>git</strong>, создадим репозиторий и добавим в него один файл – <code>README.md</code>, о том, как это сделать, можете прочитать в предыдущем уроке.</p>
</div>
<div class="paragraph">
<p>Для просмотра информации по сделанным вами (или вашими коллегами) коммитам используется команда <code><em>git log</em></code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git log</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>commit a98cce47b59256d00a853c421af4f7b9f0dc0a29
Author: Writer &lt;writer@somecompany.com&gt;
Date:   Mon Mar 5 23:10:51 2018 +0500

    [create repository]</pre>
</div>
</div>
<div class="paragraph">
<p>Как видно из полученной информации, в репозиторий был отправлен один коммит с сообщением <code>[create repository]</code>, этот коммит сделал пользователь с именем <code>Writer</code>, его email: <code>writer@somecompany.com</code>, уникальный идентификатор коммита <code>a98cce47b59256d00a853c421af4f7b9f0dc0a29</code>, и дата и время отправки коммита: <code>Mon Mar 5 23:10:51 2018 +0500</code>.</p>
</div>
<div class="paragraph">
<p>Внесем еще несколько изменений в наш репозитории. Добавим текст в файл <code>README.md</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script"> echo "Project 51" &gt; README.md</code></pre>
</div>
</div>
<div class="paragraph">
<p>Зафиксируем эти изменения в репозитории.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git add .
git commit -m "[add]: caption into README file"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Создадим файл <code>main.c</code> и добавим его в репозиторий.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">touch main.c
git add .
git commit -m "[create]: main file of program"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Таким образом в нашем репозитории уже должно быть три коммита, проверим это.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git log</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>commit 2b826bb4929fb1c8166ef05b540ce2cc68f3ebb2
Author: Writer &lt;writer@somecompany.com&gt;
Date:   Mon Mar 5 23:17:08 2018 +0500

    [create]: main file of program

commit bc067c88c427dbedbb02817f9ae25241dcae4d07
Author: Writer &lt;writer@somecompany.com&gt;
Date:   Mon Mar 5 23:15:12 2018 +0500

    [add]: caption into README file

commit a98cce47b59256d00a853c421af4f7b9f0dc0a29
Author: Writer &lt;writer@somecompany.com&gt;
Date:   Mon Mar 5 23:10:51 2018 +0500

    [create repository]</pre>
</div>
</div>
<div class="paragraph">
<p>Коммиты располагаются от новых к старым. Сделаем ещё несколько изменений.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">touch main.h
git add .
git commit -m "[create]: header for main"
touch .gitignore
git add .
git commit -m "[create]: git ignore file"
echo "*.tmp" &gt; .gitignore
git add .
git commit -m "[add] ignore .tmp files"&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Снова получим список всех коммитов.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git log</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>commit cf3d9d8f7b283267a085986e85cc8f152cca420d
Author: Writer &lt;writer@somecompany.com&gt;
Date:   Mon Mar 5 23:21:59 2018 +0500

    [add] ignore .tmp files

commit a7b88eed6110b6ebb1fc4d96f4399e4cbb8339e7
Author: Writer &lt;writer@somecompany.com&gt;
Date:   Mon Mar 5 23:21:11 2018 +0500

    [create]: git ignore file

commit c185b80ca916af7d6f068450f6cafb073d955c40
Author: Writer &lt;writer@somecompany.com&gt;
Date:   Mon Mar 5 23:20:26 2018 +0500

    [create]: header for main

commit 2b826bb4929fb1c8166ef05b540ce2cc68f3ebb2
Author: Writer &lt;writer@somecompany.com&gt;
Date:   Mon Mar 5 23:17:08 2018 +0500

    [create]: main file of program

commit bc067c88c427dbedbb02817f9ae25241dcae4d07
Author: Writer &lt;writer@somecompany.com&gt;
Date:   Mon Mar 5 23:15:12 2018 +0500

    [add]: caption into README file

commit a98cce47b59256d00a853c421af4f7b9f0dc0a29
Author: Writer &lt;writer@somecompany.com&gt;
Date:   Mon Mar 5 23:10:51 2018 +0500

    [create repository]</pre>
</div>
</div>
<div class="paragraph">
<p>Количество коммитов в репозитории уже такое, что просматривать информацию о них в том виде, в котором выдает <code>git log</code> уже неудобно. Для того, чтобы сократить количество показываемой информации можно воспользоваться ключом <code>-–oneline</code>, при этом будет выведена часть идентификатора и сообщение коммита.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git log --oneline</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>cf3d9d8 [add] ignore .tmp files
a7b88ee [create]: git ignore file
c185b80 [create]: header for main
2b826bb [create]: main file of program
bc067c8 [add]: caption into README file
a98cce4 [create repository]</pre>
</div>
</div>
<div class="paragraph">
<p>В таком виде работать с коммитами уже намного удобнее. Если вы хотите просмотреть <code>n</code> последних коммитов, то укажите количество коммитов после ключа <code>-n</code>. Выведем три последних коммита.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git log -n 3 --oneline</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>cf3d9d8 [add] ignore .tmp files
a7b88ee [create]: git ignore file
c185b80 [create]: header for main</pre>
</div>
</div>
<div class="paragraph">
<p>Для вывода списка коммитов, начиная с какой-то временной метки, используйте ключ <code>–since="&lt;date&gt; &lt;time&gt;"</code>. Например, получим все коммиты, сделанные после 5-го марта 2018 года 23:21.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git log --since="2018-03-05 23:21:00" --oneline</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>cf3d9d8 [add] ignore .tmp files
a7b88ee [create]: git ignore file</pre>
</div>
</div>
<div class="paragraph">
<p>Для вывода списка коммитов до какой-то даты используется ключ <code>–until</code>. Получим список коммитов, сделанных до 5-го марта 2018 года 23:21.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git log --until="2018-03-05 23:21:00" --oneline</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>c185b80 [create]: header for main
2b826bb [create]: main file of program
bc067c8 [add]: caption into README file
a98cce4 [create repository]</pre>
</div>
</div>
<div class="paragraph">
<p>Еще одним полезным ключом является <code>–author</code>, который позволяет вывести список коммитов, сделанных конкретным автором.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git log --author="Writer" --oneline</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>cf3d9d8 [add] ignore .tmp files
a7b88ee [create]: git ignore file
c185b80 [create]: header for main
2b826bb [create]: main file of program
bc067c8 [add]: caption into README file
a98cce4 [create repository]</pre>
</div>
</div>
<div class="paragraph">
<p>В приведенном выше примере, мы вывели все коммиты сделанные пользователем с именем <code>Writer</code>. Т.к. в нашем репозитории все коммиты сделаны от имени данного автора, то при любых других именах, передаваемых параметру <code>–author</code>, мы будем получать пустой список.</p>
</div>
<div class="paragraph">
<p>И, напоследок, рассмотрим еще один инструмент. Если вы работали с <strong>Linux</strong>, то наверное, сталкивались с такой программой как <strong>grep</strong> – это утилита командной строки, которая, в переданном ей тексте, находит вхождения, соответствующие заданному регулярному выражению. Выведем все коммиты, в которых встречается слово <code>create</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git log --grep="create" --oneline</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>a7b88ee [create]: git ignore file
c185b80 [create]: header for main
2b826bb [create]: main file of program
a98cce4 [create repository]</pre>
</div>
</div>
<div class="paragraph">
<p>Теперь коммиты со словом <code>add</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git log --grep="add" --oneline</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>cf3d9d8 [add] ignore .tmp files
bc067c8 [add]: caption into README file</pre>
</div>
</div>
<div class="paragraph">
<p>Для более продуктивного использования данной команды рекомендуем ознакомиться с возможностями утилиты <strong>grep</strong>. На этом мы закончим обзор команды <code>git log</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_head_и_tree_ish">HEAD и tree-ish</h3>
<div class="sect3">
<h4 id="_head"><code>HEAD</code></h4>
<div class="paragraph">
<p>Начнем с <code>HEAD</code>. <code>HEAD</code> – это указатель, задача которого ссылаться на определенный коммит в репозитории. Суть данного указателя можно попытаться объяснить с разных сторон.</p>
</div>
<div class="paragraph">
<p><strong>Во-первых</strong>, <code>HEAD</code> – это указатель на коммит в вашем репозитории который станет родителем следующего коммита. Для того, чтобы лучше понять это, обратимся к репозиторию, в котором сделано шесть коммитов, посмотрим на них.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git log --oneline</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>cf3d9d8 [add] ignore .tmp files
a7b88ee [create]: git ignore file
c185b80 [create]: header for main
2b826bb [create]: main file of programm
bc067c8 [add]: caption into README file
a98cce4 [create repository]</pre>
</div>
</div>
<div class="paragraph">
<p>Эти коммиты создавались в порядке от самого нижнего (<code>a98cce4</code>) к самому верхнему (<code>cf3d9d8</code>). Каждый раз, когда мы отправляли новый коммит в репозиторий, <code>HEAD</code> смещался и указывал на него. Посмотрите на картинку ниже: на ней показана ситуация, когда были отправлены три первых коммита.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../assets/img/common/git/git-for-beginner/head-in-commits.png" alt="HEAD in commits">
</div>
</div>
<div class="paragraph">
<p>После того как вы отправили коммит с id <code>2b826bb</code>, указатель <code>HEAD</code> стал показывать на него, т.е. данный коммит будет родителем для следующего, и когда мы сделаем еще один коммит, <code>HEAD</code> сместится.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../assets/img/common/git/git-for-beginner/head-offset-in-commits.png" alt="HEAD offset in commits">
</div>
</div>
<div class="paragraph">
<p><strong>Во-вторых</strong>, <code>HEAD</code> указывает на коммит, относительного которого будет создана рабочая копия во-время операции <code>checkout</code>. Другими словами, когда вы переключаетесь с ветки на ветку (о ветвлении в <strong>git</strong> будет рассказано в одной из ближайших статей), используя операцию <code>checkout</code>, то в вашем репозитории указатель <code>HEAD</code> будет переключаться между последними коммитами выбираемых вами ветвей.</p>
</div>
<div class="paragraph">
<p>В нашем репозитории пока только одна ветвь – <code>master</code>, но и этого будет достаточно, чтобы показать зависимость между положением указатель <code>HEAD</code> и операцией <code>checkout</code>.</p>
</div>
<div class="paragraph">
<p>Текущее состояние репозитория выглядит так, как показано на рисунке ниже.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../assets/img/common/git/git-for-beginner/head-in-repository-after-commits.png" alt="HEAD in repository">
</div>
</div>
<div class="paragraph">
<p>Для того, чтобы скопировать снимок репозитория относительно последнего коммита ветки <code>master</code>, т.е. того на который указывает <code>HEAD</code>, необходимо выполнить следующую команду.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git checkout master
Switched to branch 'master'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Содержимое репозитория, в данном случае, выглядит так.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git log --oneline</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>cf3d9d8 [add] ignore .tmp files
a7b88ee [create]: git ignore file
c185b80 [create]: header for main
2b826bb [create]: main file of programm
bc067c8 [add]: caption into README file
a98cce4 [create repository]</pre>
</div>
</div>
<div class="paragraph">
<p>Теперь передвинем указатель <code>HEAD</code> на коммит с id <code>2b826bb</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../assets/img/common/git/git-for-beginner/move-head-back.png" alt="Move HEAD back">
</div>
</div>
<div class="paragraph">
<p>Для этого передадим команде <code>checkout</code> идентификатор коммита.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git checkout 2b826bb</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>Note: checking out '2b826bb'.

You are in 'detached HEAD' state. You can look around, make experimentalchanges and commit them, and you can discard any commits you make in this state without impacting any branches by performing another checkout.

If you want to create a new branch to retain commits you create, you may
do so (now or later) by using -b with the checkout command again. Example:

  git checkout -b &lt;new-branch-name&gt;

HEAD is now at 2b826bb... [create]: main file of programm</pre>
</div>
</div>
<div class="paragraph">
<p>Обратите внимание на текст, который напечатал <strong>git</strong>, после того, как была выполнена эта команда. Нас интересует самая последняя строка <code>HEAD is now at 2b826bb…</code>, теперь <code>HEAD</code> указывает на коммит с id <code>2b826bb</code> – именно то, что мы хотели.</p>
</div>
<div class="paragraph">
<p>Посмотрим на текущий список коммитов.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git log --oneline</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>2b826bb [create]: main file of programm
bc067c8 [add]: caption into README file
a98cce4 [create repository]</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Git</strong> выводит коммиты, которые были сделаны до того коммита, на который ссылается <em>HEAD</em>.</p>
</div>
<div class="paragraph">
<p>Вернем <code>HEAD</code> на прежнее место.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git checkout cf3d9d8</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>Previous HEAD position was 2b826bb... [create]: main file of programm
HEAD is now at cf3d9d8... [add] ignore .tmp files</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git log --oneline</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>cf3d9d8 [add] ignore .tmp files
a7b88ee [create]: git ignore file
c185b80 [create]: header for main
2b826bb [create]: main file of programm
bc067c8 [add]: caption into README file
a98cce4 [create repository]</pre>
</div>
</div>
<div class="paragraph">
<p>Все вернулось на прежнее место. Таким образом, вы можете получать в виде рабочей копии содержимое репозитория на момент отправки того или иного коммита. Перейдем в каталог <code>.git</code>, в котором находится наш репозиторий, он расположен в корневой директории нашего проекта, и посмотрим его содержимое.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">cd .git
ls -la</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>total 21
drwxr-xr-x 1 User 197121   0 мар 18 17:10 ./
drwxr-xr-x 1 User 197121   0 мар 18 17:10 ../
-rw-r--r-- 1 User 197121  24 мар  5 23:21 COMMIT_EDITMSG
-rw-r--r-- 1 User 197121 184 мар  5 23:10 config
-rw-r--r-- 1 User 197121  73 мар  5 23:10 description
-rw-r--r-- 1 User 197121  41 мар 18 17:10 HEAD
drwxr-xr-x 1 User 197121   0 мар  5 23:10 hooks/
-rw-r--r-- 1 User 197121 441 мар 18 17:10 index
drwxr-xr-x 1 User 197121   0 мар  5 23:10 info/
drwxr-xr-x 1 User 197121   0 мар  5 23:10 logs/
drwxr-xr-x 1 User 197121   0 мар  5 23:21 objects/
drwxr-xr-x 1 User 197121   0 мар  5 23:10 refs/</pre>
</div>
</div>
<div class="paragraph">
<p>В данном каталоге содержится файл <code>HEAD</code>, в нем находится идентификатор, на который ссылается данный указатель. Посмотрим содержимое файла <code>HEAD</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">cat HEAD</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>cf3d9d8f7b283267a085986e85cc8f152cca420d</pre>
</div>
</div>
<div class="paragraph">
<p><code>HEAD</code> указывает на коммит <code>cf3d9d8</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_tree_ish">Tree-ish</h4>
<div class="paragraph">
<p>Понятие <strong>tree-ish</strong> часто используется в документации по <strong>git</strong>. <strong>Tree-ish</strong> – это то, что указывает на коммит, эту сущность мы можем передавать в качестве аргумента для команд <strong>git</strong>. Вот список того, чем может являться <strong>tree-ish</strong>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Tree-ish examples</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Tree-ish</th>
<th class="tableblock halign-left valign-top">Examples</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`&lt;sha1&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dae86e1950b1277e545cee180551750029cfe735</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`&lt;describeOutput&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>v1.7.4.2-679-g3bee7fb</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`&lt;refname&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>master, heads/master, refs/heads/master</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`&lt;refname&gt;@{&lt;date&gt;}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>master@{yesterday}, HEAD@{5 minutes ago}</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`&lt;refname&gt;@{&lt;n&gt;}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>master@{1}</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`@{&lt;n&gt;}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@{1}</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`@{-&lt;n&gt;}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@{-1}</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`&lt;refname&gt;@{upstream}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>master@{upstream}, @{u}</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`&lt;rev&gt;^</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>HEAD^, v1.5.1^0</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`&lt;rev&gt;~&lt;n&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>master~3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`&lt;rev&gt;^{&lt;type&gt;}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>v0.99.8^{commit}</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`&lt;rev&gt;^{}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>v0.99.8^{}</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`&lt;rev&gt;^{/&lt;text&gt;}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>HEAD^{/fix nasty bug}</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`:/&lt;text&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>:/fix nasty bug</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`&lt;rev&gt;:&lt;path&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>HEAD:README.txt, master:sub-directory/</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Рассмотрим работу с <strong>tree-ish</strong> на примере команды <code>git show</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git show cf3d9d8f -q</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>commit cf3d9d8f7b283267a085986e85cc8f152cca420d
Author: Writer &lt;writer@somecompany.com&gt;
Date:   Mon Mar 5 23:21:59 2018 +0500

    [add] ignore .tmp files</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git show -q HEAD</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>commit cf3d9d8f7b283267a085986e85cc8f152cca420d
Author: Writer &lt;writer@somecompany.com&gt;
Date:   Mon Mar 5 23:21:59 2018 +0500

    [add] ignore .tmp files</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git show -q master</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>commit cf3d9d8f7b283267a085986e85cc8f152cca420d
Author: Writer &lt;writer@somecompany.com&gt;
Date:   Mon Mar 5 23:21:59 2018 +0500

    [add] ignore .tmp files</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git show -q @{5}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>commit cf3d9d8f7b283267a085986e85cc8f152cca420d
Author: Writer &lt;writer@somecompany.com&gt;
Date:   Mon Mar 5 23:21:59 2018 +0500

    [add] ignore .tmp files</pre>
</div>
</div>
<div class="paragraph">
<p>Во всех примерах, представленных выше, команде <code>git show</code> мы передаем различные <strong>tree-ish</strong>, которые на самом деле указывают на одно и то же место – последний коммит.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_добавление_удаление_и_переименование_файлов_в_репозитории">Добавление, удаление и переименование файлов в репозитории</h3>
<div class="sect3">
<h4 id="_добавление_файлов_в_git_репозиторий">Добавление файлов в <em>git</em> репозиторий</h4>
<div class="paragraph">
<p>Добавление файлов в репозиторий – это достаточно простая операция, мало чем отличающаяся от отправки изменений в отслеживаемых файлах в репозиторий. Мы уже не раз выполняли эту операцию в предыдущих уроках, но сделаем это ещё раз. Создадим новый репозиторий, для этого перейдите в каталог, в котором вы хотите его расположить и введите команду <code>git init</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git init</code></pre>
</div>
</div>
<div class="paragraph">
<p>Создайте в каталоге файл <code>README.md</code> любым удобным для вас способом, мы сделаем это с помощью команды <code>touch</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">touch README.md</code></pre>
</div>
</div>
<div class="paragraph">
<p>Теперь проверим состояние отслеживаемой директории.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git status</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>On branch master

Initial commit

Untracked files:
  (use "git add &lt;file&gt;..." to include in what will be committed)

        README.md

nothing added to commit but untracked files present (use "git add" to track)</pre>
</div>
</div>
<div class="paragraph">
<p>Как вы можете видеть: в рабочей директории есть один не отслеживаемый файл <code>README.md</code>. <strong>Git</strong> нам подсказывает, что нужно сделать для того, чтобы начать отслеживать изменения в файле <code>README.md</code>: необходимо выполнить команду <code>git add</code>, сделаем это.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git add README.md</code></pre>
</div>
</div>
<div class="paragraph">
<p>Посмотрим ещё раз на состояние.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git status</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>On branch master

Initial commit

Changes to be committed:
  (use "git rm --cached &lt;file&gt;..." to unstage)

        new file:   README.md</pre>
</div>
</div>
<div class="paragraph">
<p>Видно, что информация о появлении нового файла попала в stage. Для того чтобы это изменение зафиксировалось в репозитории необходимо выполнить команду <code>git commit</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git commit -m "add README.md file"</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>[master (root-commit) 0bb6c94] add README.md file
 1 file changed, 0 insertions(+), 0 deletions(-)
 create mode 100644 README.md</pre>
</div>
</div>
<div class="paragraph">
<p>Теперь в рабочей директории и в <strong>stage</strong> нет объектов, информацию об изменении которых необходимо внести в репозиторий.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git status</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>On branch master
nothing to commit, working tree clean</pre>
</div>
</div>
<div class="paragraph">
<p>В репозиторий был сделан один коммит.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git log --oneline</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>0bb6c94 add README.md file</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_удаление_файлов_из_git_репозитория_и_stage">Удаление файлов из git репозитория и stage</h4>
<div class="sect4">
<h5 id="_удаление_файла_из_stage">Удаление файла из stage</h5>
<div class="paragraph">
<p>Вначале разберемся со <strong>stage</strong>. Создадим ещё один файл.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">touch main.c</code></pre>
</div>
</div>
<div class="paragraph">
<p>“Отправим” файл <code>main.c</code> в <strong>stage</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git add main.c</code></pre>
</div>
</div>
<div class="paragraph">
<p>Внесем изменения в <code>README.md</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">echo "# README" &gt; README.md</code></pre>
</div>
</div>
<div class="paragraph">
<p>Информацию об этом также отправим в <strong>stage</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git add README.md</code></pre>
</div>
</div>
<div class="paragraph">
<p>Посмотрим на состояние <strong>stage</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git status</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>On branch master
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

        modified:   README.md
        new file:   main.c</pre>
</div>
</div>
<div class="paragraph">
<p>Если нам необходимо убрать из <strong>stage</strong>, какой-то из этих файлов (<code>main.c</code> или <code>README.md</code>), то для этого можно воспользоваться командой <code>git –rm cashed scripted &lt;filename&gt;</code>, сделаем это для файла <code>main.c</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git rm --cached main.c
rm 'main.c'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Теперь посмотрим на состояние рабочей директории и <strong>stage</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git status</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>On branch master
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

        modified:   README.md

Untracked files:
  (use "git add &lt;file&gt;..." to include in what will be committed)

        main.c</pre>
</div>
</div>
<div class="paragraph">
<p>Видно, что изменения в файле <code>README.md</code> готовы для коммита, а вот файл <code>main.c</code> перешел в состояние – не отслеживаемый. Отправим <code>main.c</code> в <strong>stage</strong> и, после этого, сделаем коммит в репозиторий.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git add main.c</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>git commit -m "add main.c and do some changes in README.md"
[master 49049bc] add main.c and do some changes in README.md
 2 files changed, 1 insertion(+)
 create mode 100644 main.c</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_удаление_файлов_из_git_репозитория">Удаление файлов из git репозитория</h5>
<div class="paragraph">
<p>Удалить файл из репозитория можно двумя способами:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>удалить его из рабочей директории и уведомить об этом <strong>git</strong></p>
</li>
<li>
<p>воспользоваться средствами <strong>git</strong></p>
</li>
</ul>
</div>
<div class="sect5">
<h6 id="_первый_способ">Первый способ</h6>
<div class="paragraph">
<p>Для начала посмотрим, какие файлы у нас хранятся в репозитории.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git ls-tree master</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>100644 blob 7e59600739c96546163833214c36459e324bad0a    README.md
100644 blob e69de29bb2d1d6434b8b29ae775ad8c2e48c5391    main.c</pre>
</div>
</div>
<div class="paragraph">
<p>Удалим файл <code>main.c</code> из рабочей директории.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">rm main.c
ls
README.md</code></pre>
</div>
</div>
<div class="paragraph">
<p>Уведомим об этом систему <strong>git</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git rm main.c
rm 'main.c'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Вместо команды <code>git rm</code> можно использовать <code>git add</code>, но само слово <code>add</code> в данном случае будет звучать несколько неоднозначно, поэтому лучше использовать <code>rm</code>. На данном этапе еще можно вернуть все назад с помощью команды <code>git checkout</code> — <code>&lt;filename&gt;</code>, в результате, в нашу рабочую директорию будет скопирован файл из репозитория. Создадим коммит, фиксирующий удаление файла.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git commit -m "remove main.c"</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>[master d4e22ae] remove main.c
 1 file changed, 0 insertions(+), 0 deletions(-)
 delete mode 100644 main.c</pre>
</div>
</div>
<div class="paragraph">
<p>Теперь в репозитории остался только один файл <code>README.md</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git ls-tree master</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>100644 blob 7e59600739c96546163833214c36459e324bad0a    README.md</pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_второй_способ">Второй способ</h6>
<div class="paragraph">
<p>Сразу использовать команду <code>git rm</code> без предварительного удаления файла из директории. Вновь создадим файл <code>main.c</code> и добавим его в репозиторий.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">touch main.c
git add main.c
git commit -m "add main.c file"</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>[master 6d93049] add main.c file
 1 file changed, 0 insertions(+), 0 deletions(-)
 create mode 100644 main.c</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git ls-tree master</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>100644 blob 7e59600739c96546163833214c36459e324bad0a    README.md
100644 blob e69de29bb2d1d6434b8b29ae775ad8c2e48c5391    main.c</pre>
</div>
</div>
<div class="paragraph">
<p>Удалим файл из репозитория.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git rm main.c
rm 'main.c'
git commit -m "deleted: main.c file"</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>[master ba7d027] deleted: main.c file
 1 file changed, 0 insertions(+), 0 deletions(-)
 delete mode 100644 main.c</pre>
</div>
</div>
<div class="paragraph">
<p>Файла <code>main.c</code> больше нет в репозитории.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git ls-tree master</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>100644 blob 7e59600739c96546163833214c36459e324bad0a    README.md</pre>
</div>
</div>
<div class="paragraph">
<p>Его также нет и в рабочем каталоге.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">ls
README.md</code></pre>
</div>
</div>
<div class="paragraph">
<p>Удалите файл <code>README.md</code> из репозитория самостоятельно.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_переименование_файлов_в_git_репозитории">Переименование файлов в git репозитории</h4>
<div class="paragraph">
<p>Как и в случае с удалением, переименовать файл в <strong>git</strong> репозитории можно двумя способами – с использованием и без использования средств операционной системы.</p>
</div>
<div class="sect4">
<h5 id="_первый_способ_2">Первый способ</h5>
<div class="paragraph">
<p>Создадим файл <code>test_main_file.c</code> и добавим его в репозиторий.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">touch test_main_file.c
git add test_main_file.c
git commit -m "add test_main_file.c"</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>[master 6cf53ac] add test_main_file.c
 1 file changed, 0 insertions(+), 0 deletions(-)
 create mode 100644 test_main_file.c</pre>
</div>
</div>
<div class="paragraph">
<p>Содержимое репозитория после этого будет выглядеть так.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git ls-tree master</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>100644 blob e69de29bb2d1d6434b8b29ae775ad8c2e48c5391    test_main_file.c</pre>
</div>
</div>
<div class="paragraph">
<p>Переименуем его на <code>test_main.c</code>.</p>
</div>
<div class="paragraph">
<p>Сделаем это в рабочей директории.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">mv test_main_file.c test_main.c</code></pre>
</div>
</div>
<div class="paragraph">
<p>Теперь отправим изменение в репозиторий.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git add .
git commit -m "Rename test_main_file.c"</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>[master 79528c4] Rename test_main_file.c
 1 file changed, 0 insertions(+), 0 deletions(-)
 rename test_main_file.c =&gt; test_main.c (100%)</pre>
</div>
</div>
<div class="paragraph">
<p>В репозитории и в рабочей директории будет находится только файл <code>test_main.c</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git ls-tree master</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>100644 blob e69de29bb2d1d6434b8b29ae775ad8c2e48c5391    test_main.c</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">ls
test_main.c</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_второй_способ_2">Второй способ</h5>
<div class="paragraph">
<p>В рамках второго способа рассмотрим работу с командой <code>git mv</code>. Переименуем файл <code>test_main.c</code> в <code>main.c</code>. Текущее содержимое репозитория и рабочего каталога.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git ls-tree master</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>100644 blob e69de29bb2d1d6434b8b29ae775ad8c2e48c5391    test_main.c</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">ls</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>test_main.c</pre>
</div>
</div>
<div class="paragraph">
<p>Переименуем файл <code>test_main.c</code> на <code>main.c</code> средствами <strong>git</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git mv test_main.c main.c
git commit -m "Rename test_main.c file"</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>[master c566f0e] Rename test_main.c file
 1 file changed, 0 insertions(+), 0 deletions(-)
 rename test_main.c =&gt; main.c (100%)</pre>
</div>
</div>
<div class="paragraph">
<p>Имя файла изменилось как в репозитории, так и в рабочем каталоге.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git ls-tree master</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>100644 blob e69de29bb2d1d6434b8b29ae775ad8c2e48c5391    main.c</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">ls</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>main.c</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_как_удалить_коммит_в_git">Как удалить коммит в git?</h3>
<div class="sect3">
<h4 id="_отмена_изменений_в_файлах_в_рабочей_директории">Отмена изменений в файлах в рабочей директории</h4>
<div class="paragraph">
<p>Если вы сделали какие-то изменения в файле и хотите вернуть предыдущий вариант, то для этого следует обратиться к репозиторию и взять из него файл, с которым вы работаете. Таким образом, в вашу рабочую директорию будет скопирован файл из репозитория с заменой. Например, вы работаете с файлом <code>main.c</code> и внесли в него какие-то изменения. Для того чтобы вернуться к предыдущей версии (последней отправленной в репозиторий)  воспользуйтесь командой <code>git checkout</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git checkout -- main.c</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ключ <code>--</code> означает, что нас интересует файл в текущей ветке.</p>
</div>
</div>
<div class="sect3">
<h4 id="_отмена_коммитов_в_git">Отмена коммитов в git</h4>
<div class="sect4">
<h5 id="_работа_с_последним_коммитом">Работа с последним коммитом</h5>
<div class="paragraph">
<p>Для демонстрации возможностей <strong>git</strong> создадим новый каталог и инициализируем в нем репозиторий.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git init</code></pre>
</div>
</div>
<div class="paragraph">
<p>Добавим в каталог файл <code>main.c</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">touch main.c</code></pre>
</div>
</div>
<div class="paragraph">
<p>Отправим изменения в репозиторий.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git add main.c
git commit -m "first commit"</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>[master (root-commit) 86f1495] first commit
1 file changed, 0 insertions(+), 0 deletions(-)
create mode 100644 main.c</pre>
</div>
</div>
<div class="paragraph">
<p>Внесем изменения в файл.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">echo "// main.c file"</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>main.c</pre>
</div>
</div>
<div class="paragraph">
<p>И сделаем еще один коммит.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git add main.c
git commit -m "second commit"</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>[master d142679] second commit
1 file changed, 1 insertion(+)</pre>
</div>
</div>
<div class="paragraph">
<p>В репозиторий, на данный момент, было сделано два коммита.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git log --oneline</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>d142679 second commit
86f1495 first commit</pre>
</div>
</div>
<div class="paragraph">
<p>Теперь удалим последний коммит и вместо него отправим другой. Предварительно изменим содержимое файла <code>main.c</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">echo "// author: Writer" [source, shell script]</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>main.c</pre>
</div>
</div>
<div class="paragraph">
<p>Отправим изменения в репозиторий с заметой последнего коммита.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git add main.c
git commit --amend -m "third commit"
git log --oneline</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>18411fd third commit
86f1495 first commit</pre>
</div>
</div>
<div class="paragraph">
<p>Как вы можете видеть: из репозитория пропал коммит с id <code>d142679</code>, вместо него теперь коммит с id <code>18411fd</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_отмена_изменений_в_файле_в_выбранном_коммите">Отмена изменений в файле в выбранном коммите</h5>
<div class="paragraph">
<p>Сделаем ещё несколько изменений в нашем файле <code>main.c</code>, каждое из которых будет фиксироваться коммитом в репозиторий.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">echo "// Some text 1"</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>main.c</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git add main.c
git commit -m "fourth commit"</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>[master dcf7253 ] fourth commit
1 file changed, 1 insertion(+), 1 deletion(-)</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">echo "// Some text 2" [source, shell script]</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>main.c</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git add main.c
git commit -m "fifth commit"</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>[master 7f2eb3a ] fifth commit
1 file changed, 1 insertion(+), 1 deletion(-)</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git log --oneline</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>7f2eb3a fifth commit
dcf7253 fourth commit
18411fd third commit
86f1495 first commit</pre>
</div>
</div>
<div class="paragraph">
<p>Помните, что в предыдущем разделе мы поменяли коммит с сообщением <code>second commit</code> на <code>third commit</code>, поэтому он идет сразу после <code>first commit</code>.</p>
</div>
<div class="paragraph">
<p>Представим ситуацию, что два последних коммита были неправильными, и нам нужно вернуться к версии <code>18411fd</code> и внести изменения именно в нее. В нашем примере, мы работаем только с одним файлом, но в реальном проекте файлов будет много, и после коммитов, в рамках которых вы внесли изменения в интересующий вас файл, может быть ещё довольно много коммитов, фиксирующих изменения в других файлах. Просто так взять и удалить коммиты из середины ветки не получится – это нарушит связность, что идет в разрез с идеологией <strong>git</strong>. Одни из возможных вариантов – это получить версию файла из нужного нам коммита, внести в него изменения и сделать новый коммит. Для начала посмотрим на содержимое файла <code>main.c</code> из последнего, на текущий момент, коммита.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git checkout main.c
cat main.c</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>// Some text 2</pre>
</div>
</div>
<div class="paragraph">
<p>Для просмотра содержимого файла в коммите с id <code>18411fd</code> воспользуемся правилами работы с <strong>tree-ish</strong> (об этом подробно написано здесь)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git show 18411fd:main.c</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>// author: Writer</pre>
</div>
</div>
<div class="paragraph">
<p>Переместим в рабочую директорию файл <code>main.c</code> из репозитория с коммитом id <code>18411fd</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git checkout 18411fd -- main.c
cat main.c</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>// author: Writer</pre>
</div>
</div>
<div class="paragraph">
<p>Мы видим, что теперь содержимое файла <code>main.c</code> соответствует тому, что было на момент создания коммита с id <code>18411fd</code>. Сделаем коммит в репозиторий и в сообщении укажем, что он отменяет два предыдущих.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git add main.c
git commit -m "return main.c from third commit"</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>[master cffc5ad] return main.c from third commit
1 file changed, 1 insertion(+), 1 deletion(-)</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git log --oneline</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>cffc5ad return main.c from third commit
7f2eb3a fifth commit
dcf7253 fourth commit
18411fd third commit
86f1495 first commit</pre>
</div>
</div>
<div class="paragraph">
<p>Таким образом мы вернулись к предыдущей версии файла <code>main.c</code> и при этом сохранили всю историю изменений.</p>
</div>
</div>
<div class="sect4">
<h5 id="_использование_git_revert_для_быстрой_отмены_изменений">Использование <code>git revert</code> для быстрой отмены изменений</h5>
<div class="paragraph">
<p>Рассмотрим ещё одни способ отмены коммитов, на этот раз воспользуемся командой <code>git revert</code>.</p>
</div>
<div class="paragraph">
<p>В нашем примере, отменим коммит с id <code>cffc5ad</code>. После того как вы введете команду <code>git revert</code> (см. ниже), система <strong>git</strong> выдаст сообщение в текстовом редакторе, если вы согласны с тем, что будет написано в открытом файле, то просто сохраните его и закройте. В результате изменения будут применены, и автоматически сформируется и отправится в репозиторий коммит.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git revert cffc5ad</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>[master 81499da] Revert "return main.c from third commit"
1 file changed, 1 insertion(+), 1 deletion(-)</pre>
</div>
</div>
<div class="paragraph">
<p>Если вы хотите поменять редактор, то воспользуйтесь командой.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git config core.editor "notepad.exe"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Обратите внимание, что в этом случае будут изменены настройки для текущего репозитория.</p>
</div>
<div class="paragraph">
<p>Проверим, применялась ли настройка.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git config core.editor notepad.exe</code></pre>
</div>
</div>
<div class="paragraph">
<p>Посмотрим на список коммитов в репозитории.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git log --oneline</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>81499da Revert "return main.c from third commit"
cffc5ad return main.c from third commit
7f2eb3a fifth commit
dcf7253 fourth commit
18411fd third commit
86f1495 first commit</pre>
</div>
</div>
<div class="paragraph">
<p>Содержимое файла вернулось к тому, что было сделано в рамках коммита с id <code>7f2eb3a</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">cat main.c</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>// Some text 2</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git show 7f2eb3a:main.c</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>// Some text 2</pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_отмена_группы_коммитов">Отмена группы коммитов</h4>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
Используйте эту команду очень аккуратно!
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Существует три опции, которые можно использовать с командой <code>git reset</code> для изменения положения <code>HEAD</code> и управления состоянием <strong>stage</strong> и рабочей директории, сейчас мы все это подробно разберем.</p>
</div>
<div class="sect4">
<h5 id="_удаление_коммитов_из_репозитория_без_изменения_рабочей_директории_ключ_soft">Удаление коммитов из репозитория (без изменения рабочей директории) (ключ <code>–soft</code>)</h5>
<div class="paragraph">
<p>Для изменения положения указателя <code>HEAD</code> в репозитории, без оказания влияния рабочую директорию (в <strong>stage</strong>, при этом, будет зафиксировано отличие рабочей директории от репозитория), используйте ключ <code>–soft</code>. Посмотрим ещё раз на наш репозиторий.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git log --oneline</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>81499da Revert "return main.c from third commit"
cffc5ad return main.c from third commit
7f2eb3a fifth commit
dcf7253 fourth commit
18411fd third commit
86f1495 first commit</pre>
</div>
</div>
<div class="paragraph">
<p>Содержимое файла <code>main.с</code> в рабочей директории.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">cat main.c</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>// Some text 2</pre>
</div>
</div>
<div class="paragraph">
<p>Содержимое файла <code>main.с</code> в репозитории.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git show HEAD:main.c</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>// Some text 2</pre>
</div>
</div>
<div class="paragraph">
<p>Теперь переместим <code>HEAD</code> в репозитории на коммит с id <code>dcf7253</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git reset --soft dcf7253</code></pre>
</div>
</div>
<div class="paragraph">
<p>Получим следующий список коммитов.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git log --oneline</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>dcf7253 fourth commit
18411fd third commit
86f1495 first commit</pre>
</div>
</div>
<div class="paragraph">
<p>Содержимое файла <code>main.c</code> в репозитории выглядит так.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git show HEAD:main.c</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>// Some text 1</pre>
</div>
</div>
<div class="paragraph">
<p>В рабочей директории файл <code>main.c</code> остался прежним (эти изменения отправлены в <strong>stage</strong>).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">cat main.c</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>// Some text 2</pre>
</div>
</div>
<div class="paragraph">
<p>Для того, чтобы зафиксировать в репозитории последнее состояние файла main.c сделаем коммит.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git commit -m "soft reset example"</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>[master db1a8b0] soft reset example
1 file changed, 1 insertion(+), 1 deletion(-)</pre>
</div>
</div>
<div class="paragraph">
<p>Посмотрим на список коммитов.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git log --oneline</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>db1a8b0 soft reset example
dcf7253 fourth commit
18411fd third commit
86f1495 first commit</pre>
</div>
</div>
<div class="paragraph">
<p>Как видите из репозитория пропали следующие коммиты:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>81499da Revert "return main.c from third commit"
cffc5ad return main.c from third commit
7f2eb3a fifth commit</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_удаление_коммитов_из_репозитория_и_очистка_stage_без_изменения_рабочей_директории_ключ_mixed">Удаление коммитов из репозитория и очистка stage (без изменения рабочей директории) (ключ <code>–mixed</code>)</h5>
<div class="paragraph">
<p>Если использовать команду <code>git reset</code> с аргументом <code>–mixed</code>, то в репозитории указатель <code>HEAD</code> переместится на нужный коммит, а также будет сброшено содержимое <strong>stage</strong>. Отменим последний коммит.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git reset --mixed dcf7253</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>Unstaged changes after reset:
M       main.c</pre>
</div>
</div>
<div class="paragraph">
<p>В результате изменилось содержимое репозитория.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git log --oneline</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>dcf7253 fourth commit
18411fd third commit
86f1495 first commit</pre>
</div>
</div>
<div class="paragraph">
<p>Содержимое файла <code>main.c</code> в последнем коммите выглядит так.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git show HEAD:main.c</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>// Some text 1</pre>
</div>
</div>
<div class="paragraph">
<p>Файл <code>main.c</code> в рабочей директории не изменился.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">cat main.c</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>// Some text 2</pre>
</div>
</div>
<div class="paragraph">
<p>Отправим изменения вначале в <strong>stage</strong>, а потом в репозиторий.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git add main.c
git commit -m "mixed reset example"</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>[master ab4ef00] mixed reset example
1 file changed, 1 insertion(+), 1 deletion(-)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_удаление_коммитов_из_репозитория_очистка_stage_и_внесение_изменений_в_рабочую_директорию_ключ_hard">Удаление коммитов из репозитория, очистка stage и внесение изменений в рабочую директорию (ключ <code>–hard</code>)</h5>
<div class="paragraph">
<p>Если вы воспользуетесь ключом <code>–hard</code>, то обратного пути уже не будет. Вы не сможете восстановить данные из рабочей директории. Все компоненты <strong>git</strong> (репозиторий, <strong>stage</strong> и рабочая директория) будут приведены к одному виду в соответствии с коммитом, на который будет перенесен указатель <code>HEAD</code>.</p>
</div>
<div class="paragraph">
<p>Текущее содержимое репозитория выглядит так.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git log --oneline</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>ab4ef00 mixed reset example
dcf7253 fourth commit
18411fd third commit
86f1495 first commit</pre>
</div>
</div>
<div class="paragraph">
<p>Посмотрим на содержимое файла <code>main.c</code> в каталоге и репозитории.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">cat main.c</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>// Some text 2</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git show HEAD:main.c</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>// Some text 2</pre>
</div>
</div>
<div class="paragraph">
<p>Содержимое файлов идентично.</p>
</div>
<div class="paragraph">
<p>Удалим все коммиты до самого первого с id <code>86f1495</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git reset --hard 86f1495</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>HEAD is now at 86f1495 first commit</pre>
</div>
</div>
<div class="paragraph">
<p>Содержимое репозитория.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git log --oneline</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>86f1495 first commit</pre>
</div>
</div>
<div class="paragraph">
<p>Состояние <strong>рабочей директории</strong> и <strong>stage</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">git status</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>On branch master
nothing to commit, working tree clean</pre>
</div>
</div>
<div class="paragraph">
<p>Содержимое файла <code>main.c</code> в репозитории и в рабочей директории.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell script" data-lang="shell script">cat main.c
git show HEAD:main.c</code></pre>
</div>
</div>
<div class="paragraph">
<p>Файл <code>main.c</code> пуст.</p>
</div>
<div class="paragraph">
<p>Т.к. мы воспользовались командой <code>git reset</code> с ключом <code>–hard</code>, то восстановить прежнее состояние нам не получится.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_links">Links</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://www.atlassian.com/ru/git/tutorials">Станьте
гуру в Git. (by Atlassian)</a></p>
</li>
<li>
<p><a href="https://git-scm.com/book/ru/v2">Pro Git book v2</a></p>
</li>
<li>
<p><a href="https://learn.javascript.ru/screencast/git">Скринкаст по Git</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2021-07-06 03:16:08 UTC
</div>
</div>
</body>
</html>